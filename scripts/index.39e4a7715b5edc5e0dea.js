!function(e){function t(t){for(var r,s,a=t[0],c=t[1],u=t[2],p=0,f=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={1:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://olgamiliukova.github.io/news-explorer-web/";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;i.push([53,0]),n()}([function(e,t,n){"use strict";n.r(t),n.d(t,"datetime",(function(){return r.a})),n.d(t,"delegate",(function(){return c})),n.d(t,"factory",(function(){return u.a})),n.d(t,"logger",(function(){return p})),n.d(t,"merge",(function(){return f.a})),n.d(t,"observer",(function(){return g})),n.d(t,"renderer",(function(){return j})),n.d(t,"resolver",(function(){return I})),n.d(t,"template",(function(){return N})),n.d(t,"translate",(function(){return F}));var r=n(19),o=new Map,i=new Map,s=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o.has(e)||o.set(e,new Map);var s=o.get(e);s.has(n)||s.set(n,new Map);var a=s.get(n);a.has(t)||a.set(t,new Map);var c=a.get(t);c.set(r,i)},a=function(e,t,n,r){if(o.has(e)){var s=o.get(e);if(s.has(n)){var a=s.get(n);if(a.has(t)){var c=a.get(t);c.has(r)&&c.delete(r),c.size||a.delete(t)}a.size||(i.has(e)&&i.get(e).has(n)&&(e.removeEventListener(n,i.get(e).get(n),!1),i.get(e).delete(n),i.get(e).size||i.delete(e)),s.delete(n))}s.size||o.delete(e)}},c=function(e,t,n,r){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};s(e,t,n,r,c);var u=o.get(e),l=u.get(n);function p(r){var o=r.target;l.forEach((function(i,s){(o.classList.contains(s)||o.closest(".".concat(s)))&&i.forEach((function(i,s){r.defaultPrevented||(s.call(o,r,i),i.once&&a(e,t,n,s))}))}))}l.get(t).size>1||(e.addEventListener(n,p,!1),i.has(e)||i.set(e,new Map),i.get(e).set(n,p))},u=n(17),l=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e};l.DEBUG="debug",l.ERROR="error",l.WARN="warn",l.INFO="info";var p=l,f=n(18),h=n(3),O=n.n(h),d=n(4),_=n.n(d),g=function(){function e(t){O()(this,e),this._event=t,this._handlers=new Set}return _()(e,[{key:"addHandler",value:function(e){this._handlers.add(e)}},{key:"execute",value:function(e){var t=this;this._handlers.forEach((function(n){return n.call(t,e)}))}},{key:"event",get:function(){return this._event}}],[{key:"subscribe",value:function(t,n){Array.isArray(t)?t.forEach((function(t){return e.subscribe(t,n)})):(e.eventMap.has(t)||e.eventMap.set(t,new e(t)),e.eventMap.get(t).addHandler(n))}},{key:"notify",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(t)?t.forEach((function(t){return e.notify(t,n)})):e.eventMap.has(t)&&e.eventMap.get(t).execute(n)}}]),e}();g.eventMap=new Map;var m=n(1),b=n.n(m),v=n(13),y=n.n(v),E=n(21),P=n(15),k=n(11);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var R=new E.a,j=function(e,t){var n=t.context,r=t.position,o=void 0===r?BlockComponent.RENDER_APPEND:r,i=y()(t,["context","position"]);return k[e](P,R).render(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({context:n,position:o},i))},T=n(20),w=n.n(T);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((function(t,n){return"function"==typeof t[n]?D({},t,b()({},n,t[n].call())):"object"===w()(t[n])?D({},t,b()({},n,e(t[n]))):t}),t)},A=n(7),C=n.n(A),N=function(e){return function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";return Function(t,"return `"+e+"`;")}(e,Object.keys(t)).apply(void 0,C()(Object.values(t)))}},x=n(10),F=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ru";return Object.keys(n).reduce((function(t,r){return t.replace("%".concat(r,"%"),e("function"==typeof n[r]?n[r].call():n[r]))}),x.messages[r]&&x.messages[r][t]||t)}},,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"author",(function(){return r})),n.d(t,"backends",(function(){return i})),n.d(t,"forms",(function(){return s})),n.d(t,"mapping",(function(){return a})),n.d(t,"messages",(function(){return c.a})),n.d(t,"navigations",(function(){return u})),n.d(t,"popups",(function(){return l})),n.d(t,"results",(function(){return p}));var r={avatar:n.p+"images/image-author.1f4675de1b4577af10577e2031cd8e0d.png",author:"BLOCK_AUTHOR_NAME",title:"BLOCK_AUTHOR_TITLE",content:"BLOCK_AUTHOR_ABOUT"},o=n(19),i={main:{endpoint:"https://api.news-explorer.olgamiliukova.ml"},news:{endpoint:"https://newsapi.org/v2",token:"f4f5f2aebafc4f709ad40064741a0a12",params:{language:"ru",from:function(){return o.a.toISO(-7)},sortBy:"publishedAt",pageSize:"100"}}},s={search:{title:"FORM_TITLE_SEARCH",buttonText:"FORM_BUTTON_SEARCH",fields:{search:{fieldfieldLabel:"FORM_FIELD_SEARCH_LABEL",fieldType:"text",placeholder:"FORM_FIELD_SEARCH_PLACEHOLDER",required:!0,minlength:2,maxlength:30,message:"FORM_FIELD_MESSAGE"}}},signin:{title:"FORM_TITLE_SIGNIN",buttonText:"FORM_BUTTON_SIGNIN",linkToText:"FORM_BUTTON_SIGNUP",fields:{email:{fieldLabel:"FORM_FIELD_EMAIL_LABEL",fieldType:"email",placeholder:"FORM_FIELD_EMAIL_PLACEHOLDER",pattern:"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,63}$",required:!0,message:"FORM_FIELD_MESSAGE"},password:{fieldLabel:"FORM_FIELD_PASSWORD_LABEL",fieldType:"password",placeholder:"FORM_FIELD_PASSWORD_PLACEHOLDER",required:!0,minlength:2,maxlength:30,message:"FORM_FIELD_MESSAGE"}}},signup:{title:"FORM_TITLE_SIGNUP",buttonText:"FORM_BUTTON_SIGNUP",linkToText:"FORM_BUTTON_SIGNIN",fields:{email:{fieldLabel:"FORM_FIELD_EMAIL_LABEL",fieldType:"email",placeholder:"FORM_FIELD_EMAIL_PLACEHOLDER",pattern:"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,63}$",required:!0,message:"FORM_FIELD_MESSAGE"},password:{fieldLabel:"FORM_FIELD_PASSWORD_LABEL",fieldType:"password",placeholder:"FORM_FIELD_PASSWORD_PLACEHOLDER",required:!0,minlength:8,maxlength:30,message:"FORM_FIELD_MESSAGE"},name:{fieldLabel:"FORM_FIELD_NAME_LABEL",fieldType:"text",placeholder:"FORM_FIELD_NAME_PLACEHOLDER",required:!0,minlength:2,maxlength:30,message:"FORM_FIELD_MESSAGE"}}}},a={BaseArticle:{id:"_id",keyword:"keyword",title:"title",text:"text",date:"date",link:"link",image:"image",source:"source"},NewsArticle:{id:"_id",keyword:"keyword",title:"title",text:"description",date:"publishedAt",link:"url",image:"urlToImage",source:"source"}},c=n(16),u={index:{index:{type:"link",href:"https://olgamiliukova.github.io/news-explorer-web/",text:"NAVIGATION_DEFAULT_INDEX"},login:{type:"button",action:"signin",text:"NAVIGATION_DEFAULT_LOGIN"}},logged:{index:{type:"link",href:"https://olgamiliukova.github.io/news-explorer-web/",text:"NAVIGATION_LOGGED_INDEX"},saved:{type:"link",href:"".concat("https://olgamiliukova.github.io/news-explorer-web/","/saved-news.html"),text:"NAVIGATION_LOGGED_SAVED"},logout:{type:"button",action:"logout",text:"NAVIGATION_LOGGED_LOGOUT"}},footer:{index:{type:"link",href:"https://olgamiliukova.github.io/news-explorer-web/",text:"NAVIGATION_FOOTER_INDEX"},yandex:{type:"link",target:"_blank",rel:"noreferrer",href:"https://praktikum.yandex.ru",text:"NAVIGATION_FOOTER_YANDEX"}},social:{github:{type:"link",target:"_blank",rel:"noreferrer",href:"https://github.com",text:"NAVIGATION_SOCIAL_GITHUB",icon:"github"},facebook:{type:"link",target:"_blank",rel:"noreferrer",href:"https://www.facebook.com",text:"NAVIGATION_SOCIAL_FACEBOOK",icon:"facebook"}}},l={signin:{title:"FORM_TITLE_SIGNIN",text:"POPUP_FORM_SUBTEXT",link:"FORM_BUTTON_SIGNUP"},signup:{title:"FORM_TITLE_SIGNUP",text:"POPUP_FORM_SUBTEXT",link:"FORM_BUTTON_SIGNIN"},success:{title:"POPUP_SIGNUP_SUCCESS_TITLE",text:"%link%",link:"POPUP_SIGNUP_SUCCESS_LINK"},error:{title:"POPUP_SIGNUP_ERROR_TITLE",text:"%link%",link:"POPUP_SIGNUP_ERROR_LINK"}},p={title:"BLOCK_RESULTS_SEARCH_TITLE",loading:{subtitle:"BLOCK_RESULTS_LOADING_SUBTITLE"},noResults:{title:"BLOCK_RESULTS_NO_RESULTS_TITLE",subtitle:"BLOCK_RESULTS_NO_RESULTS_SUBTITLE"},showMore:{label:"BLOCK_RESULTS_BUTTON_SHOW_MORE",limit:3}}},function(e,t,n){"use strict";n.r(t),n.d(t,"author",(function(){return u})),n.d(t,"cardList",(function(){return f})),n.d(t,"footer",(function(){return v})),n.d(t,"header",(function(){return I})),n.d(t,"newsCard",(function(){return ue})),n.d(t,"popup",(function(){return ge})),n.d(t,"popupForm",(function(){return Pe})),n.d(t,"popupFormSignIn",(function(){return je})),n.d(t,"popupFormSignUp",(function(){return Te})),n.d(t,"savedCard",(function(){return we})),n.d(t,"savedResults",(function(){return Xe})),n.d(t,"searchForm",(function(){return tt})),n.d(t,"searchInfo",(function(){return ut})),n.d(t,"searchResults",(function(){return pt})),n.d(t,"search",(function(){return Ot}));var r=n(1),o=n.n(r),i=n(23),s={baseClass:"author",template:n.n(i).a,options:{required:["avatar","author","title","content"],defaults:{}}},a=n(10);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=function(e){return new(0,e.BlockComponent)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:"author",block:s},a.author),[])},l=n(24),p={baseClass:"cards-container",template:n.n(l).a,options:{defaults:{cards:function(){return""}}}},f=function(e){return new(0,e.CardListComponent)({name:"cardList",block:p},[])},h=n(25),O=n.n(h),d=n(26),_={baseClass:"footer__link",template:n.n(d).a,options:{required:["href","text"],defaults:{target:"_self",rel:""}}},g=n(27),m={baseClass:"footer__link-social",template:n.n(g).a,options:{required:["href","target","rel","icon","text"],defaults:{}}},b={baseClass:"footer",template:O.a,options:{required:["footerLinks","socialLinks"],defaults:{copyright:""}},elements:{footerLink:_,socialLink:m}},v=function(e){return new(0,e.FooterComponent)({name:"footer",block:b,navigations:a.navigations,copyright:"BLOCK_FOOTER_COPYRIGHT"},[])},y=n(28),E=n.n(y),P=n(29),k={baseClass:"header__menu-button",template:n.n(P).a,options:{required:["action","text"],defaults:{innerText:""}}},S=n(30),R={baseClass:"header__menu-link",template:n.n(S).a,options:{required:["href","text"],defaults:{active:!1,innerText:""}}},j={baseClass:"header",template:E.a,options:{required:["navigation"],defaults:{theme:"light",publicUrl:"/"}},elements:{button:k,link:R}},T=n(0),w=function(e){return function(t){return Object(T.delegate)(t,"button__signin","click",(function(t){t.preventDefault();var n=e.get("popupFormSignIn").component;n.render().then((function(e){return n.handle(e)}))}))}},L=function(e){return function(t,n){return Object(T.delegate)(t,"button__logout","click",(function(r){r.preventDefault(),e.get("mainApi").logout(),n.setProps({loggedIn:!1}),n.clear(t).then((function(){return n.render({context:t,position:n.constructor.RENDER_PREPEND})})),T.observer.notify(["logout","refresh"])}))}},D=function(e){return function(t,n){var r=e.get("config"),o=r.theme,i=r.page;n.setProps({theme:o,page:i});var s=e.get("mainApi");s.getToken()&&s.getUser().then((function(e){var r=e.name;return n.setProps({loggedIn:!!r,userName:r}),n.clear(t).then((function(){return n.render({context:t,position:n.constructor.RENDER_PREPEND})}))})).catch((function(e){return Object(T.logger)(e,T.logger.ERROR)}))}},I=function(e,t){return new(0,e.HeaderComponent)({name:"header",block:j,navigations:a.navigations},[D(t),w(t),L(t),function(e,t){T.observer.subscribe("signin",(function(n){var r=n.name;t.setProps({loggedIn:!!r,userName:r}),t.clear(e).then((function(){return t.render({context:e,position:t.constructor.RENDER_PREPEND})}))}))}])},A=n(31),C=n.n(A),N=n(32),x={baseClass:"card__bookmark",template:n.n(N).a,options:{required:["article"],defaults:{toogleClass:"card__bookmark_marked"}}},F=n(33),U={baseClass:"card__delete",template:n.n(F).a,options:{required:["article"]}},H=n(34),M={baseClass:"card__keyword",template:n.n(H).a,options:{defaults:{keyword:"keyword"}}},B=n(35),G={baseClass:"card__tooltip",template:n.n(B).a,options:{required:["article","logged"],defaults:{text:function(){return""}}}},$={baseClass:"card",template:C.a,options:{required:["article"],defaults:{elements:function(){return""}}},elements:{bookmark:x,tooltip:G,deleter:U,keyword:M}},q=n(3),K=n.n(q),V=n(4),W=n.n(V),X=n.p+"images/thumbnail.2f6868abe22eed9d3cb0bf4b3c2ef545.png";function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};K()(this,e),this._data=t instanceof e?t.getRawData():t,this._mapping=a.mapping}return W()(e,[{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.getMapping()[e]&&this._data[this.getMapping()[e]]||this._data[e]||t}},{key:"equals",value:function(e){return e.link===this.link}},{key:"getMapping",value:function(){return this._mapping.BaseArticle}},{key:"getData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Object.keys(this.getMapping()).filter(t).reduce((function(t,n){return z({},t,o()({},n,e[n]))}),{})}},{key:"getRawData",value:function(){return this._data}},{key:"toJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return JSON.stringify(this.getData(e))}},{key:"encode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return e.encode(this,t)}},{key:"id",get:function(){return this.resolve("id")}},{key:"keyword",get:function(){return this.resolve("keyword")}},{key:"title",get:function(){return this.resolve("title")}},{key:"text",get:function(){return this.resolve("text")}},{key:"date",get:function(){return this.resolve("date",new Date)}},{key:"link",get:function(){return this.resolve("link")}},{key:"image",get:function(){return this.resolve("image",X)}},{key:"source",get:function(){return this.resolve("source")}}],[{key:"encode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return encodeURIComponent(e.toJson(t))}},{key:"decode",value:function(t){return new e(JSON.parse(decodeURIComponent(t)))}}]),e}(),Q=n(5),Z=n.n(Q),ee=n(2),te=n.n(ee),ne=n(6),re=n.n(ne),oe=function(e){function t(){return K()(this,t),Z()(this,te()(t).apply(this,arguments))}return re()(t,e),W()(t,[{key:"getMapping",value:function(){return this._mapping.NewsArticle}},{key:"source",get:function(){return this.resolve("source",{}).name||""}}]),t}(J),ie=function(e,t,n){return function(r){return r.json?r.json().then((function(r){var o=r.message,i=e.create("popup",{type:"error"},[function(){return Object(T.delegate)(t,"popup__link","click",(function(e){e.preventDefault(),i.clear(t)}))}]).component;i.render({context:t,position:n.constructor.RENDER_PREPEND,content:function(){return Object(T.translate)(o)}}).then((function(e){return i.handle(e)}))})):Object(T.logger)(r,T.logger.ERROR)}},se=function(e,t){return function(n,r){return Object(T.delegate)(n.querySelector(".".concat(r.baseClass)),"popup__link","click",(function(n){n.preventDefault();var o=e.get(t).component;r.clear().then((function(){return o.render()})).then((function(e){return o.handle(e)}))}))}},ae=function(e){return function(t,n){return Object(T.delegate)(t,n.getBookmarkElement().baseClass,"click",(function(r){r.preventDefault();var o=e.get("mainApi");if(o.getToken()){var i=r.target.closest(".".concat(n.baseClass)),s=i.querySelector(".".concat(n.getBookmarkElement().baseClass)),a=i.querySelector(".".concat(n.getTooltipElement().baseClass)),c=n.getBookmarkElement().getProps().toogleClass,u=J.decode(s.value);Promise.resolve(u.id?o.removeArticle(u.id).then((function(e){var t=new J(e);s.value=t.encode((function(e){return"id"!==e})),s.classList.remove(c),a.remove(),n.getTooltipElement().render({context:s,position:n.constructor.RENDER_AFTER,article:t.getData((function(e){return"id"!==e})),logged:!!o.getToken()})})):o.createArticle(u.getData((function(e){return"id"!==e}))).then((function(e){var t=new J(e);s.value=t.encode(),s.classList.add(c),a.remove(),n.getTooltipElement().render({context:s,position:n.constructor.RENDER_AFTER,article:t.getData(),logged:!!o.getToken()})}))).catch(ie(e,t,n))}}))}},ce=function(e){return function(t,n){return Object(T.delegate)(t,n.getDeleterElement().baseClass,"click",(function(r){r.preventDefault();var o=e.get("mainApi");if(o.getToken()){var i=r.target.closest(".".concat(n.baseClass)),s=i.querySelector(".".concat(n.getDeleterElement().baseClass));o.removeArticle(s.value).then((function(){return i.remove()})).then((function(){return T.observer.notify(["refresh","card_delete"])})).catch(ie(e,t,n))}}))}},ue=function(e,t){var n=new(0,e.CardComponent)({name:"newsCard",block:$},[function(e,t){return t._setElements([])},ae(t)]);return n.addElement(n.getBookmarkElement()),n.addElement(n.getTooltipElement().setProps({logged:!!t.get("mainApi").getToken()})),n},le=n(36),pe=n.n(le),fe=n(37),he={baseClass:"popup__link",template:n.n(fe).a,options:{required:["href","text"],defaults:{className:"popup__link-to"}}},Oe=n(38),de={baseClass:"popup__subtext",template:n.n(Oe).a,options:{required:["text"],defaults:{link:function(){return""}}}},_e={baseClass:"popup",template:pe.a,options:{required:["title"],defaults:{content:function(){return""},element:function(){return""}}},elements:{link:he,subtext:de}},ge=function(e){return new(0,e.PopupComponent)({name:"popup",block:_e,popups:a.popups},[])},me=n(39),be=n.n(me),ve=n(40),ye={baseClass:"popup-form__field",template:n.n(ve).a,options:{required:["form","fieldName","fieldLabel","fieldType","placeholder"],defaults:{pattern:"",required:"",minlength:"",maxlength:""}}},Ee={baseClass:"popup-form",template:be.a,options:{required:["elements","buttonText"],defaults:{formError:""}},elements:{field:ye}},Pe=function(e){return new(0,e.FormComponent)({name:"popupForm",block:Ee,forms:a.forms},[])},ke=function(e,t,n){return function(e){return e.json?e.json().then((function(e){return e?n.clear(t).then((function(){return n.render({context:t.querySelector(".popup__title"),position:n.constructor.RENDER_AFTER,formError:e.message?e.message:e})})):e})):Object(T.logger)(e,T.logger.ERROR)}},Se=function(e){return function(t,n){return Object(T.delegate)(t,"form","submit",(function(r){r.preventDefault();var o=r.target.elements,i=o.email.value,s=o.password.value;n.setValues({email:i,password:s});var a=e.get("popupFormSignIn").component,c=e.get("mainApi");c.signin(i,s).then((function(){return c.getUserData()})).then((function(e){T.observer.notify(["signin","refresh"],e),n.setValues(),a.clear()})).catch(ke(0,t,n)).then((function(){return n.handle(t)}))}))}},Re=function(e){return function(t,n){return Object(T.delegate)(t,"form","submit",(function(r){r.preventDefault();var o=r.target.elements,i=o.email.value,s=o.password.value,a=o.name.value;n.setValues({email:i,password:s,name:a});var c=e.get("popupFormSignUp").component;e.get("mainApi").signup(i,s,a).then((function(){return n.setValues(),c.clear(c.context)})).then((function(){var t=e.create("popup",{type:"success"},[se(e,"popupFormSignIn")]).component;t.render({context:c.context}).then((function(e){return t.handle(e)}))})).catch(ke(0,t,n)).then((function(){return n.handle(t)}))}))}},je=function(e,t){return new(0,e.ProxyComponent)({name:"popupFormSignIn",context:document.querySelector(".page"),factory:function(){var e=t.create("popupForm",{type:"signin"},[Se(t)]).component,n=t.create("popup",{type:"signin",content:function(){return e.toHtml()}},[function(t){return e.setValues().handle(t.querySelector(".".concat(n.baseClass)))},se(t,"popupFormSignUp")]).component;return n}})},Te=function(e,t){return new(0,e.ProxyComponent)({name:"popupFormSignUp",context:document.querySelector(".page"),factory:function(){var e=t.create("popupForm",{type:"signup"},[Re(t)]).component,n=t.create("popup",{type:"signup",content:function(){return e.toHtml()}},[function(t){return e.setValues().handle(t.querySelector(".".concat(n.baseClass)))},se(t,"popupFormSignIn")]).component;return n}})},we=function(e,t){var n=new(0,e.CardComponent)({name:"savedCard",block:$},[function(e,t){return t._setElements([])},ce(t)]);return n.addElement(n.getKeywordElement()),n.addElement(n.getDeleterElement()),n.addElement(n.getTooltipElement().setProps({logged:!!t.get("mainApi").getToken(),text:function(){return"BLOCK_TOOLTIP_DROP"}})),n},Le=n(41),De=n.n(Le),Ie=n(42),Ae={baseClass:"results__title",template:n.n(Ie).a,options:{required:["title"]}},Ce=n(43),Ne={baseClass:"results__loading",template:n.n(Ce).a,options:{required:["subtitle"]}},xe=n(44),Fe=n.n(xe),Ue=n.p+"images/results__no-results.5bfe873d4dfc83452a2788700dd92bb5.png",He={baseClass:"results__no-results",template:Fe.a,options:{required:["title","subtitle"],defaults:{image:Ue}}},Me=n(45),Be={baseClass:"results__button",template:n.n(Me).a,options:{required:["label"]}},Ge={baseClass:"results",template:De.a,options:{required:["title"],defaults:{header:function(){return""},content:function(){return""},element:function(){return""}}},elements:{header:Ae,loading:Ne,noResults:He,button:Be}},$e=function(e,t){return function(n,r){return e.create("userData").then((function(e){return e.articles.map((function(e){return new t(e)}))})).then((function(e){return r.clear(n).then((function(){return r.setProps({title:"",results:e}),r.renderResults({context:n,position:r.constructor.RENDER_APPEND})}))})).catch(ie(e,n,r))}},qe=function(e,t,n){return function(r,o){return Object(T.delegate)(r,"results__button","click",(function(i){i.preventDefault();var s=o.getProps(),a=s.results,c=void 0===a?[]:a,u=s.showMore.limit,l=c.splice(0,u);if(l.length){c.length||i.target.remove();var p=e.get("cardList").component;l.forEach((function(r){var o=e.create(n,{article:new t(r)}).component;p.addCard(o)})),p.renderCards({context:r,shift:u})}}))}},Ke=function(e,t){return function(n,r){var o=function(o){var i=o.articles,s=void 0===i?[]:i;return r.clear(n).then((function(){return r.setProps({title:"",results:s.map((function(e){return new t(e)}))}),r.renderResults({context:n,position:r.constructor.RENDER_APPEND})})).catch(ie(e,n,r))};T.observer.subscribe(["signin","logout"],o),T.observer.subscribe("refresh",(function(){return e.create("userData").then(o).catch(ie(e,n,r))}))}},Ve=function(e,t,n){return function(r,o){return o.setProps({content:function(){var r=o.getProps(),i=r.results,s=void 0===i?[]:i,a=r.showMore.limit,c=s.splice(0,a);if(!c.length)return"";var u=e.get("cardList").component;return u.clearCards(),c.forEach((function(r){var o=e.create(n,{article:new t(r)}).component;u.addCard(o)})),u.toHtml()}})}};function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xe=function(e,t){return new(0,e.ResultsComponent)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:"savedResults",block:Ge},a.results),[Ve(t,J,"savedCard"),qe(t,J,"savedCard"),$e(t,J),Ke(t,J),function(e){t.get("savedCard").component.handle(e)}])},Ye=n(46),ze={baseClass:"search-form",template:n.n(Ye).a,options:{required:["placeholder","buttonText"],defaults:{fieldName:"search"}}},Je=n(14),Qe=n.n(Je);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var et=function(e){return function(t,n){return Object(T.delegate)(t,"form","submit",(function(r){r.preventDefault();var i=e.get("searchResults"),s=i.component,a=i.context;if(!n.getQuery())return s.clear(a);var c=e.get("mainApi"),u=e.get("newsApi");return s.clear(a).then((function(){return s.renderLoading({context:a,position:s.constructor.RENDER_PREPEND})})).then((function(){return Promise.all([u.getNews({q:n.getQuery()}).then((function(e){return e.articles.map((function(e){return new oe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{keyword:n.getQuery()}))}))})),Promise.resolve(c.getToken()?c.getArticles():[]).then((function(e){return e.map((function(e){return new J(e)}))})).catch((function(){return[]}))])})).then((function(e){var t=Qe()(e,2),n=t[0],r=t[1];return n.map((function(e){var t=r.find((function(t){return e.equals(t)}));return t||e}))})).then((function(e){return s.clear(a).then((function(){return s.setProps({results:e}),e.length?s.renderResults({context:a,position:s.constructor.RENDER_PREPEND}):s.renderNoResults({context:a,position:s.constructor.RENDER_PREPEND})}))})).then((function(){return s.handle(a)})).catch(ie(e,t,n))}))}},tt=function(e,t){return new(0,e.SearchFormComponent)({name:"searchForm",block:ze,placeholder:"BLOCK_SEARCH_FORM_INPUT_PLACEHOLDER",buttonText:"BLOCK_SEARCH_FORM_BUTTON_TEXT"},[et(t),function(e,t){T.observer.subscribe(["signin","logout"],(function(){return t.search()}))}])},nt=n(47),rt=n.n(nt),ot=n(48),it={baseClass:"search-info__subtitle",template:n.n(ot).a,options:{required:["text"]}},st={baseClass:"search-info",template:rt.a,options:{required:["heading"],defaults:{title:"",subtitle:""}},elements:{subtitle:it}};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ct=function(e){return function(t,n){var r=function(e){var r=e.name,i=void 0===r?"Anonymous":r,s=e.articles,a=void 0===s?[]:s;return n.setProps({title:{toString:function(){return Object(T.translate)("BLOCK_SEARCH_INFO_ARTICLES_COUNT",{name:i,count:a.length})}},subtitle:{toString:function(){if(!a.length)return"";var e=a.reduce((function(e,t){var n=e[t.keyword]?e[t.keyword]:0;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,o()({},t.keyword,n+1))}),{}),t=Object.keys(e).sort((function(t,n){return e[t]-e[n]}));return Object(T.translate)("BLOCK_SEARCH_INFO_BY_KEYWORDS",{keywords:n.keywordsToHtml({keywords:t})})}}}),n.clear(t).then((function(){return n.render({context:t,position:n.constructor.RENDER_PREPEND})}))};return T.observer.subscribe(["signin","logout"],r),T.observer.subscribe("refresh",(function(){return e.create("userData").then(r).catch(ie(e,t,n))})),e.create("userData").then(r).catch(ie(e,t,n))}},ut=function(e,t){return new(0,e.SearchInfoComponent)({name:"searchInfo",block:st,heading:"BLOCK_SEARCH_INFO_SAVED_ARTICLES"},[ct(t)])};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pt=function(e,t){return new(0,e.ResultsComponent)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:"searchResults",block:Ge},a.results),[Ve(t,oe,"newsCard"),qe(t,oe,"newsCard"),function(e){t.get("newsCard").component.handle(e)}])},ft=n(49),ht={baseClass:"search",template:n.n(ft).a,options:{required:["title","subtitle"],defaults:{content:""}}},Ot=function(e){return new(0,e.BlockComponent)({name:"search",block:ht,title:"BLOCK_SEARCH_TITLE",subtitle:"BLOCK_SEARCH_SUBTITLE"},[])}},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"BlockComponent",(function(){return A})),n.d(t,"CardComponent",(function(){return x})),n.d(t,"CardListComponent",(function(){return H})),n.d(t,"FooterComponent",(function(){return G})),n.d(t,"FormComponent",(function(){return K})),n.d(t,"HeaderComponent",(function(){return X})),n.d(t,"ProxyComponent",(function(){return J})),n.d(t,"PopupComponent",(function(){return ee})),n.d(t,"ResultsComponent",(function(){return re})),n.d(t,"SearchFormComponent",(function(){return oe})),n.d(t,"SearchInfoComponent",(function(){return ie}));var r=n(22),o=n.n(r),i=n(9),s=n.n(i),a=n(12),c=n.n(a),u=n(1),l=n.n(u),p=n(7),f=n.n(p),h=n(13),O=n.n(h),d=n(3),_=n.n(d),g=n(4),m=n.n(g),b=n(5),v=n.n(b),y=n(2),E=n.n(y),P=n(8),k=n.n(P),S=n(6),R=n.n(S),j=n(0);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_()(this,e),this.setProps(t),this._setHandlers(n),this._setElements(r)}var t,n,r;return m()(e,[{key:"render",value:(r=c()(s.a.mark((function t(n){var r,o,i,a,c,u,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.context,o=n.position,i=void 0===o?e.RENDER_APPEND:o,a=O()(n,["context","position"]),r&&(c=r.ownerDocument,(u=c.createElement("template")).innerHTML=this.toHtml(a),l=u.content,this._setElements(f()(l.children)),r[i].call(r,u.content)),t.abrupt("return",r);case 3:case"end":return t.stop()}}),t,this)}))),function(e){return r.apply(this,arguments)})},{key:"handle",value:(n=c()(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,Promise.all([].concat(f()(this.getDefaultHandlers()),f()(this._handlers)).map((function(e){return e.call(n,t,n)})));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"clear",value:(t=c()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this._elements.map((function(e){return c()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.remove());case 1:case"end":return t.stop()}}),t)})))()})));case 2:this._elements=[];case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isRendered",value:function(){return this._elements.length>0}},{key:"hasHandlers",value:function(){return this._handlers.length>0}},{key:"toHtml",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=w({},this.getProps(),{},e);return this._checkProps(t),j.template(this.getTemplate())(t)}},{key:"getRequired",value:function(){return this._required||[]}},{key:"getDefaults",value:function(){return w({},this._defaults||{},{},j)}},{key:"getTemplate",value:function(){var e=this.getProps().template;return void 0===e?"":e}},{key:"getProps",value:function(){return w({},this.getDefaults(),{},this._props)}},{key:"setProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._props=w({},this._props||{},{},e),this}},{key:"getDefaultHandlers",value:function(){return this._defaultHandlers||[]}},{key:"_setHandlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._handlers=e,this}},{key:"_setElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._elements=e,this}},{key:"_checkProps",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getRequired().forEach((function(n){if(!(n in t))throw new Error(j.translate("COMPONENT_ERROR_PROPERTY_IS_REQUIRED",{field:n,component:e.toString()}))}))}},{key:"toString",value:function(){return this.name}},{key:"name",get:function(){return this._props.name||this.constructor.name}}]),e}();function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L.RENDER_APPEND="append",L.RENDER_PREPEND="prepend",L.RENDER_BEFORE="before",L.RENDER_AFTER="after",L.RENDER_REPLACE="replaceWith";var A=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e.block,s=O()(e,["block"]);return _()(this,t),(n=v()(this,E()(t).call(this,s,r,o)))._block=i,n}var n;return R()(t,e),m()(t,[{key:"getRequired",value:function(){var e=(this._block.options||{}).required,n=void 0===e?[]:e;return[].concat(f()(k()(E()(t.prototype),"getRequired",this).call(this)),f()(n))}},{key:"getDefaults",value:function(){var e=(this._block.options||{}).defaults,n=void 0===e?{}:e;return I({},k()(E()(t.prototype),"getDefaults",this).call(this),{},n)}},{key:"getDefaultHandlers",value:function(){var e=this;return[].concat(f()(k()(E()(t.prototype),"getDefaultHandlers",this).call(this)),[function(t){t&&!e.isRendered()&&e._setElements(f()(t.querySelectorAll(".".concat(e.baseClass))))}])}},{key:"clear",value:(n=c()(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()(E()(t.prototype),"clear",this).call(this);case 2:return n&&f()(n.querySelectorAll(".".concat(this.baseClass))).forEach((function(e){return e.remove()})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getTemplate",value:function(){return this._block.template}},{key:"createElement",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._block.elements[e],i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return o()(t,[I({block:r},n,{name:e})].concat(s))}},{key:"baseClass",get:function(){return this._block.baseClass}}]),t}(L);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){function t(){var e,n;_()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=v()(this,(e=E()(t)).call.apply(e,[this].concat(o))))._elementComponents=[],n}return R()(t,e),m()(t,[{key:"addElement",value:function(e){return this._elementComponents.push(e),this}},{key:"clearElements",value:function(){return this._elementComponents.forEach((function(e){return e.clear()})),this._elementComponents=[],this}},{key:"toHtml",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k()(E()(t.prototype),"toHtml",this).call(this,N({},n,{elements:function(){return e._elementComponents.map((function(t){return t.toHtml(N({},n,{},e.getProps()))})).join("")}}))}},{key:"getBookmarkElement",value:function(){return"bookmarkElement"in this||(this.bookmarkElement=this.createElement("bookmark")),this.bookmarkElement}},{key:"getTooltipElement",value:function(){return"tooltipElement"in this||(this.tooltipElement=this.createElement("tooltip",{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.id?"BLOCK_TOOLTIP_DROP":"BLOCK_TOOLTIP_SAVE":"BLOCK_TOOLTIP_UNAUTHORIZED"}})),this.tooltipElement}},{key:"getDeleterElement",value:function(){return"deleterElement"in this||(this.deleterElement=this.createElement("deleter")),this.deleterElement}},{key:"getKeywordElement",value:function(){return"keywordElement"in this||(this.keywordElement=this.createElement("keyword")),this.keywordElement}}]),t}(A);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){function t(){var e,n;_()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=v()(this,(e=E()(t)).call.apply(e,[this].concat(o))))._cards=[],n}return R()(t,e),m()(t,[{key:"addCard",value:function(e){return this._cards.push(e),this}},{key:"clearCards",value:function(){return this._cards.forEach((function(e){e.isRendered()&&e.clear()})),this._cards=[],this}},{key:"clear",value:function(e){return this.clearCards(),k()(E()(t.prototype),"clear",this).call(this,e)}},{key:"toHtml",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k()(E()(t.prototype),"toHtml",this).call(this,U({},n,{cards:function(){return e._cards.map((function(e){return e.toHtml()})).join("")}}))}},{key:"renderCards",value:function(e){var t=this,n=e.context,r=e.shift,o=void 0===r?0:r;this._cards.slice(o).forEach((function(e){e.isRendered()||e.render({context:n.querySelector(".".concat(t.baseClass)),position:e.constructor.RENDER_APPEND})}))}}]),t}(A);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){function t(){return _()(this,t),v()(this,E()(t).apply(this,arguments))}return R()(t,e),m()(t,[{key:"toHtml",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.getProps(),o=r.navigations,i=o.footer,s=o.social,a=function(t,n){return Object.keys(t).map((function(r){return e.createElement(n,t[r]).toHtml()})).join("")};return k()(E()(t.prototype),"toHtml",this).call(this,B({},n,{footerLinks:function(){return a(i,"footerLink")},socialLinks:function(){return a(s,"socialLink")}}))}}]),t}(A);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){function t(){return _()(this,t),v()(this,E()(t).apply(this,arguments))}return R()(t,e),m()(t,[{key:"getRequired",value:function(){return[].concat(f()(k()(E()(t.prototype),"getRequired",this).call(this)),["type"])}},{key:"getValues",value:function(){return this._values||{}}},{key:"setValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._values=e,this}},{key:"activateForm",value:function(e){var t=e.querySelector(".".concat(this.baseClass)),n=t.querySelector(".form__button");f()(t.querySelectorAll(".form__input")).reduce((function(e,t){return e&&t.validity.valid}),!0)?n.removeAttribute("disabled"):n.setAttribute("disabled",!0)}},{key:"populateForm",value:function(e){var t=f()(e.querySelectorAll(".form__input")),n=this.getValues();t.forEach((function(e){e.name in n&&(e.value=n[e.name])}))}},{key:"getDefaultHandlers",value:function(){var e=this;return[].concat(f()(k()(E()(t.prototype),"getDefaultHandlers",this).call(this)),[function(t){return e.populateForm(t)},function(t){return e.activateForm(t)},function(t){return Object(j.delegate)(t,"form__input","input",(function(){return e.activateForm(t)}))}])}},{key:"toHtml",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.getProps(),o=r.type,i=r.forms,s=i[o],a=s.title,c=s.buttonText,u=s.linkToText,l=s.fields;return k()(E()(t.prototype),"toHtml",this).call(this,q({},n,{title:a,buttonText:c,linkToText:u,elements:function(){return Object.keys(l).map((function(t){return e.createElement("field",q({form:o,fieldName:t},l[t])).toHtml()})).join("")}}))}}]),t}(A);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){function t(){return _()(this,t),v()(this,E()(t).apply(this,arguments))}return R()(t,e),m()(t,[{key:"getDefaults",value:function(){return W({},k()(E()(t.prototype),"getDefaults",this).call(this),{loggedIn:!1,userName:"",theme:"light",publicUrl:"https://olgamiliukova.github.io/news-explorer-web/",page:"index",togglerClass:"header__menu-toggler",toggledClass:"header_expanded"})}},{key:"getDefaultHandlers",value:function(){return[].concat(f()(k()(E()(t.prototype),"getDefaultHandlers",this).call(this)),[function(e,t){return Object(j.delegate)(e,t.getProps().togglerClass,"click",(function(){e.querySelector(".".concat(t.baseClass)).classList.toggle(t.getProps().toggledClass)}))}])}},{key:"toHtml",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.getProps(),o=r.loggedIn,i=void 0!==o&&o,s=r.userName,a=void 0===s?"":s,c=r.navigations,u=r.theme,l=r.page,p=i?c.logged:c.index;return k()(E()(t.prototype),"toHtml",this).call(this,W({theme:u},n,{navigation:function(){return Object.keys(p).map((function(t){var n=p[t];return e.createElement(n.type,W({},n,{innerText:a,active:t===l})).toHtml()})).join("")}}))}}]),t}(A);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e.factory,s=e.context,a=void 0===s?null:s,c=O()(e,["factory","context"]);return _()(this,t),(n=v()(this,E()(t).call(this,c,r,o)))._factory=i,n._context=a,n}var n,r;return R()(t,e),m()(t,[{key:"render",value:(r=c()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.component.render(z({},this.context?{context:this.context}:{},{},t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"handle",value:function(e){return this.component.handle(e||this.context)}},{key:"clear",value:(n=c()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.component.clear();case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"toHtml",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.component.toHtml(e)}},{key:"getRequired",value:function(){return this.component.getRequired()}},{key:"getDefaults",value:function(){return this.component.getDefaults()}},{key:"getTemplate",value:function(){return this.component.getTemplate()}},{key:"getProps",value:function(){return this.component.getProps()}},{key:"getDefaultHandlers",value:function(){return this.component.getDefaultHandlers()}},{key:"component",get:function(){return this._component||(this._component=this._factory(this._props,this._handlers,this._elements)),this._component}},{key:"context",get:function(){return"function"==typeof this._context&&(this._context=this._context.call(this)),this._context}}]),t}(L);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){function t(){return _()(this,t),v()(this,E()(t).apply(this,arguments))}return R()(t,e),m()(t,[{key:"getRequired",value:function(){return[].concat(f()(k()(E()(t.prototype),"getRequired",this).call(this)),["type"])}},{key:"getDefaults",value:function(){return Z({},k()(E()(t.prototype),"getDefaults",this).call(this),{closeBtnClass:"popup__close-button"})}},{key:"getDefaultHandlers",value:function(){return[].concat(f()(k()(E()(t.prototype),"getDefaultHandlers",this).call(this)),[function(e,t){return Object(j.delegate)(e,t.getProps().closeBtnClass,"click",(function(){return t.clear()}),{once:!0})}])}},{key:"getSubtextElement",value:function(){return"subtextElement"in this||(this.subtextElement=this.createElement("subtext")),this.subtextElement}},{key:"getLinkElement",value:function(){return"linkElement"in this||(this.linkElement=this.createElement("link")),this.linkElement}},{key:"toHtml",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.getProps(),o=r.type,i=r.popups,s=i[o],a=s.title,c=s.text,u=void 0===c?"":c,l=s.link,p=void 0===l?"":l;return k()(E()(t.prototype),"toHtml",this).call(this,Z({},n,{title:a,element:function(){return e.getSubtextElement().toHtml({text:u,link:function(){return e.getLinkElement().toHtml({text:p,href:"#"})}})}}))}}]),t}(A);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){function t(){return _()(this,t),v()(this,E()(t).apply(this,arguments))}return R()(t,e),m()(t,[{key:"getLoadingElement",value:function(){return"loadingElement"in this||(this.loadingElement=this.createElement("loading")),this.loadingElement}},{key:"renderLoading",value:function(e){var t=this.getLoadingElement(),n=this.getProps().loading;return this.render(ne({},e,{header:function(){return""},content:function(){return""},element:function(){return t.toHtml(ne({},n,{},e))}}))}},{key:"getNoResultsElement",value:function(){return"noResultsElement"in this||(this.noResultsElement=this.createElement("noResults")),this.noResultsElement}},{key:"renderNoResults",value:function(e){var t=this.getNoResultsElement(),n=this.getProps().noResults;return this.render(ne({},e,{header:function(){return""},content:function(){return""},element:function(){return t.toHtml(ne({},n,{},e))}}))}},{key:"getHeaderElement",value:function(){return"headerElement"in this||(this.headerElement=this.createElement("header")),this.headerElement}},{key:"getButtonElement",value:function(){return"buttonElement"in this||(this.buttonElement=this.createElement("button")),this.buttonElement}},{key:"renderResults",value:function(e){var t=this.getHeaderElement(),n=this.getButtonElement(),r=ne({},this.getProps(),{},e),o=r.results,i=void 0===o?[]:o,s=r.showMore,a=r.title,c=i.length;return this.render(ne({},e,{header:function(){return a?t.toHtml({title:a}):""},element:function(){return c>s.limit?n.toHtml(ne({},s,{},e)):""}}))}}]),t}(A),oe=function(e){function t(){return _()(this,t),v()(this,E()(t).apply(this,arguments))}return R()(t,e),m()(t,[{key:"getDefaultHandlers",value:function(){var e=this;return[].concat(f()(k()(E()(t.prototype),"getDefaultHandlers",this).call(this)),[function(t,n){var r=t.querySelector("form"),o=e.getProps().fieldName,i=r.elements[o];n.setProps({formElement:r,fieldElement:i})}])}},{key:"getQuery",value:function(){return this.getProps().fieldElement.value}},{key:"search",value:function(){return this.getProps().formElement.requestSubmit()}}]),t}(A),ie=function(e){function t(){return _()(this,t),v()(this,E()(t).apply(this,arguments))}return R()(t,e),m()(t,[{key:"getSubtitleElement",value:function(){return"subtitleElement"in this||(this.subtitleElement=this.createElement("subtitle")),this.subtitleElement}},{key:"keywordsToHtml",value:function(e){var t=this,n=e.keywords,r=void 0===n?[]:n,o=e.countToShow,i=void 0===o?2:o;return[r.slice(0,i).map((function(e){return t.getSubtitleElement().toHtml({text:e.charAt(0).toUpperCase()+e.substring(1)})})).join(", "),r.length-i>0?this.getSubtitleElement().toHtml({text:Object(j.translate)("BLOCK_SEARCH_INFO_MORE_KEYWORDS",{count:r.length-i})}):""].join(" ")}}]),t}(A)},function(e,t,n){"use strict";t.a={en:{BLOCK_AUTHOR_TITLE:"About author",BLOCK_AUTHOR_ABOUT:'<strong>Milyukova Olga Aleksandrovna</strong>, student of <strong>Yandex.Praktikum</strong> on the course <strong>"Web-developer"</strong>. I have little experience in programming, but during the training I gained knowledge on the following front-end development technologies: <strong>HTML</strong>, <strong>CSS</strong>, <strong>JavaScript</strong>. And also, I gained knowledge and skills in the backend for technology: <strong>NodeJS</strong>, <strong>Webpack</strong> and others',BLOCK_SEARCH_TITLE:"What is happening in the World?",BLOCK_SEARCH_SUBTITLE:"Find the latest articles on any topic and save in your personal account",BLOCK_SEARCH_FORM_INPUT_PLACEHOLDER:"Enter news topic",BLOCK_SEARCH_FORM_BUTTON_TEXT:"Search",BLOCK_SEARCH_INFO_SAVED_ARTICLES:"Saved articles",BLOCK_SEARCH_INFO_ARTICLES_COUNT:"%name%, you have %count% saved articles",BLOCK_SEARCH_INFO_BY_KEYWORDS:"By keywords: %keywords%",BLOCK_SEARCH_INFO_MORE_KEYWORDS:"and %count% others",BLOCK_RESULTS_SEARCH_TITLE:"Search results",BLOCK_RESULTS_LOADING_SUBTITLE:"Searching",BLOCK_RESULTS_NO_RESULTS_TITLE:"Not found",BLOCK_RESULTS_NO_RESULTS_SUBTITLE:"Sorry, nothing found by request",BLOCK_RESULTS_BUTTON_SHOW_MORE:"Show more",BLOCK_FOOTER_COPYRIGHT:"&copy; 2020 Supersite, Powered by News API",BLOCK_TOOLTIP_UNAUTHORIZED:"Sign in to save article",BLOCK_TOOLTIP_SAVE:"Save",BLOCK_TOOLTIP_DROP:"Drop",FORM_FIELD_MESSAGE:"Incorrect format %label%",FORM_FIELD_SEARCH_LABEL:"Search",FORM_FIELD_SEARCH_PLACEHOLDER:"Enter news topic",FORM_BUTTON_SEARCH:"Search",FORM_BUTTON_SIGNIN:"Sign In",FORM_BUTTON_SIGNUP:"Sign Up",FORM_FIELD_EMAIL_LABEL:"Email",FORM_FIELD_EMAIL_PLACEHOLDER:"Enter email",FORM_FIELD_PASSWORD_LABEL:"Password",FORM_FIELD_PASSWORD_PLACEHOLDER:"Enter password",FORM_FIELD_NAME_LABEL:"Name",FORM_FIELD_NAME_PLACEHOLDER:"Enter your name",FORM_TITLE_SEARCH:"Search",FORM_TITLE_SIGNIN:"Sign In",FORM_TITLE_SIGNUP:"Sign Up",POPUP_FORM_SUBTEXT:"or %link%",POPUP_SIGNUP_SUCCESS_TITLE:"User has been registered successfully!",POPUP_SIGNUP_SUCCESS_LINK:"Sign In",POPUP_SIGNUP_ERROR_TITLE:"Error",POPUP_SIGNUP_ERROR_LINK:"Something went wrong :(",COMPONENT_ERROR_TEMPLATE_DIDNT_SETUP:"Template didn`t setup for component %component%",COMPONENT_ERROR_PROPERTY_IS_REQUIRED:"Property %field% is required for component %component%",NAVIGATION_DEFAULT_INDEX:"Home",NAVIGATION_DEFAULT_LOGIN:"Login",NAVIGATION_LOGGED_INDEX:"Home",NAVIGATION_LOGGED_SAVED:"Saved Pages",NAVIGATION_LOGGED_LOGOUT:"%innerText%",NAVIGATION_FOOTER_INDEX:"Home",NAVIGATION_FOOTER_YANDEX:"Yandex.Praktikum",NAVIGATION_SOCIAL_GITHUB:"Github",NAVIGATION_SOCIAL_FACEBOOK:"Facebook",MONTHS_WITH_POSTFIX:"","jwt expired":"Session is expired. Authorize yourself"},ru:{BLOCK_AUTHOR_TITLE:" ",BLOCK_AUTHOR_ABOUT:'<strong>  </strong>,  <strong>.</strong>   <strong>"Web-"</strong>.     ,          -: <strong>HTML</strong>, <strong>CSS</strong>, <strong>JavaScript</strong>.   ,      -  : <strong>NodeJS</strong>, <strong>Webpack</strong>  ',BLOCK_AUTHOR_NAME:" ",BLOCK_SEARCH_TITLE:"   ?",BLOCK_SEARCH_SUBTITLE:"            ",BLOCK_SEARCH_FORM_INPUT_PLACEHOLDER:"  ",BLOCK_SEARCH_FORM_BUTTON_TEXT:"",BLOCK_SEARCH_INFO_SAVED_ARTICLES:" ",BLOCK_SEARCH_INFO_ARTICLES_COUNT:"%name%,   %count%  ",BLOCK_SEARCH_INFO_BY_KEYWORDS:"  : %keywords%",BLOCK_SEARCH_INFO_MORE_KEYWORDS:" %count% ",BLOCK_RESULTS_SEARCH_TITLE:" ",BLOCK_RESULTS_LOADING_SUBTITLE:"  ",BLOCK_RESULTS_NO_RESULTS_TITLE:"  ",BLOCK_RESULTS_NO_RESULTS_SUBTITLE:"       ",BLOCK_RESULTS_BUTTON_SHOW_MORE:" ",BLOCK_FOOTER_COPYRIGHT:"&copy; 2020 Supersite, Powered by News API",BLOCK_TOOLTIP_UNAUTHORIZED:",   ",BLOCK_TOOLTIP_SAVE:"",BLOCK_TOOLTIP_DROP:"  ",FORM_FIELD_MESSAGE:"  %label%",FORM_FIELD_SEARCH_LABEL:"",FORM_FIELD_SEARCH_PLACEHOLDER:"  ",FORM_BUTTON_SEARCH:"",FORM_BUTTON_SIGNIN:"",FORM_BUTTON_SIGNUP:"",FORM_FIELD_EMAIL_LABEL:"Email",FORM_FIELD_EMAIL_PLACEHOLDER:" ",FORM_FIELD_PASSWORD_LABEL:"",FORM_FIELD_PASSWORD_PLACEHOLDER:" ",FORM_FIELD_NAME_LABEL:"",FORM_FIELD_NAME_PLACEHOLDER:"  ",FORM_TITLE_SEARCH:"",FORM_TITLE_SIGNIN:"",FORM_TITLE_SIGNUP:"",POPUP_FORM_SUBTEXT:" %link%",POPUP_SIGNUP_SUCCESS_TITLE:"  !",POPUP_SIGNUP_SUCCESS_LINK:" ",POPUP_SIGNUP_ERROR_TITLE:"",POPUP_SIGNUP_ERROR_LINK:"-    :(",COMPONENT_ERROR_TEMPLATE_DIDNT_SETUP:"      %component%",COMPONENT_ERROR_PROPERTY_IS_REQUIRED:" %field%    %component%",NAVIGATION_DEFAULT_INDEX:"",NAVIGATION_DEFAULT_LOGIN:"",NAVIGATION_LOGGED_INDEX:"",NAVIGATION_LOGGED_SAVED:" ",NAVIGATION_LOGGED_LOGOUT:"%innerText%",NAVIGATION_FOOTER_INDEX:"",NAVIGATION_FOOTER_YANDEX:".",NAVIGATION_SOCIAL_GITHUB:"Github",NAVIGATION_SOCIAL_FACEBOOK:"Facebook",MONTHS_WITH_POSTFIX:"()-|()-|()-|()-|()-|()-|()-|()-|()-|()-|()-|()-","Failed to fetch":"  ","jwt expired":"  . ","Incorrect email or password":" email  ","Article has not been found to delete":"    "}}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(22),s=n.n(i),a=n(18);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return function(){for(var t=e.constructor,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var c=s()(t,r),l=Object.keys(e).reduce((function(t,n){return u({},t,o()({},n,e[n]))}),{}),p=Object.keys(c).reduce((function(e,t){return u({},e,o()({},t,c[t]))}),{});return Object.assign(c,Object(a.a)(l,p))}}},function(e,t,n){"use strict";var r=n(7),o=n.n(r),i=n(1),s=n.n(i),a=n(20),c=n.n(a);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e,t,n){return void 0===n?e:"object"===c()(n)?Array.isArray(n)?l({},e,s()({},t,[].concat(o()(e[t]||[]),o()(n)))):l({},e,s()({},t,l({},e[t]||{},{},n))):l({},e,s()({},t,n))};t.a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Object.keys(t).reduce((function(e,n){return p(e,n,t[n])}),e)}),e)}},function(e,t,n){"use strict";var r=n(14),o=n.n(r),i=n(16),s=function(e){var t=i.a.ru.MONTHS_WITH_POSTFIX.split("|").map((function(e){return e.split("-")})).find((function(t){var n=o()(t,1)[0];return new RegExp(n).test(e)})),n=o()(t,2),r=n[0],s=n[1];return e.replace(new RegExp("".concat(r,".*")),"$1".concat(s))};t.a={toISO:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date;return t.setDate(t.getDate()+e),t.toISOString()},format:function(e){var t=new Date(e),n=t.getDate(),r=t.toLocaleString("ru",{month:"long"}),o=t.getFullYear();return"".concat(n," ").concat(s(r),", ").concat(o)}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1),o=n.n(r),i=n(9),s=n.n(i),a=n(12),c=n.n(a),u=n(3),l=n.n(u),p=n(4),f=n.n(p),h=n(15),O=n(10),d=n(17);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e),this._factories=t,this._instances={},this._components=[],this.config=O}var t;return f()(e,[{key:"create",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._factories[e].apply(this,n)}},{key:"has",value:function(e){return e in this._factories}},{key:"get",value:function(e){return e in this._instances||(this._instances[e]=this.create(e)),this._instances[e]}},{key:"use",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._components.push({component:e,context:t}),this}},{key:"run",value:(t=c()(s.a.mark((function e(){var t,n,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._components.map(function(){var e=c()(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.component,o=t.context,"function"!=typeof n){e.next=7;break}return e.next=4,n(h,r);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=n;case 8:return e.t1=e.t0,e.t2=o,e.abrupt("return",{component:e.t1,context:e.t2});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:return n=e.sent,this._instances=g({},this._instances,{},n.reduce((function(e,t){var n=t.component,r=t.context;return g({},e,o()({},n.name,{component:n,context:r}))}),{})),this._factories=g({},this._factories,{},n.reduce((function(e,t){var n=t.component,r=t.context;return g({},e,o()({},n.name,(function(){return{component:Object(d.a)(n).apply(void 0,arguments),context:r}})))}),{})),e.next=8,Promise.all(n.map((function(e){var t=e.component,n=e.context,r=void 0===n?null:n;return t.hasHandlers()&&t.handle(r)})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},,function(e,t){e.exports='<section class="author section">\n  <div class="author__row">\n    <img src="${avatar}" alt="${translate(author)}" class="author__image"\n      title="${translate(author)}">\n    <div class="author__text">\n      <h2 class="author__title title_mid title">${translate(title)}</h2>\n      <p class="author__subtitle subtitle_normal subtitle">${translate(content)}</p>\n    </div>\n  </div>\n</section>'},function(e,t){e.exports='<div class="cards-container">\n    ${cards()}\n</div>'},function(e,t){e.exports='<footer class="footer section">\n    <p class="footer__copyright">${translate(copyright)}</p>\n    <nav class="footer__lists">\n        <ul class="footer__list-links">\n            ${footerLinks()}\n        </ul>\n        <ul class="footer__list-social">\n            ${socialLinks()}\n        </ul>\n    </nav>\n</footer>'},function(e,t){e.exports='<li>\n    <a href="${href}" target="${target}" rel="${rel}" class="footer__link">${translate(text)}</a>\n</li>'},function(e,t){e.exports='<a href="${href}" target="${target}" rel="${rel}" class="footer__link-social">\n    <i class="footer__link-icon footer__link-icon_${icon}" title="${translate(text)}"></i>\n</a>'},function(e,t){e.exports='<header class="header header_theme_${theme}">\n  <div class="header__container header__container_expandable section">\n    <div class="header__container-row">\n      <a href="${publicUrl}">\n        <div class="header__logo"></div>\n      </a>\n      <button class="header__menu-toggler">\n        <i class="header__menu-icon header__menu-icon_toggler"></i>\n      </button>\n    </div>\n    <div class="header__container-line"></div>\n    <div class="header__container-row header__container-row_expandable">\n      <nav class="header__menu">\n        ${navigation()}\n      </nav>\n    </div>\n  </div>\n</header>'},function(e,t){e.exports='<button class="header__menu-button button__${action} button">${translate(text,{innerText})}<i\n    class="header__menu-icon header__menu-icon_${action}"></i></button>'},function(e,t){e.exports="<a href=\"${href}\" class=\"header__menu-link ${active ? 'header__menu-link_active' : ''}\">${translate(text,{innerText})}</a>"},function(e,t){e.exports='<div class="card">\n  <div class="card__image-cover">\n    ${elements()}\n    <a href="${article.link}" target="_blank" class="card__link">\n      <img class="card__image" src="${article.image}" alt="${article.title}">\n    </a>\n  </div>\n  <div class="card__description">\n    <h3 class="card__date">${datetime.format(article.date)}</h3>\n    <h2 class="card__title title title_small"><a href="${article.link}" target="_blank"\n        class="card__link">${article.title}</a></h2>\n    <p class="card__subtitle subtitle subtitle_small">${article.text}</p>\n    <p class="card__source">${article.source}</p>\n  </div>\n</div>'},function(e,t){e.exports='<button value="${article.encode()}" class="card__bookmark button ${article.id ? toogleClass : \'\'}">\n  <i class="card__bookmark-icon"></i>\n</button>'},function(e,t){e.exports='<button value="${article.id}" class="card__delete button">\n    <i class="card__delete-icon"></i>\n</button>'},function(e,t){e.exports='<div class="card__keyword">\r\n    <div class="card__keyword-text">${keyword}</div>\r\n</div>'},function(e,t){e.exports='<div class="card__tooltip">\n  <div class="card__tooltip-text">${translate(text(article, logged))}</div>\n</div>'},function(e,t){e.exports='<div class="popup">\n  <div class="popup__content">\n    <button class="popup__close ${closeBtnClass}">\n      <i class="icon popup__close-icon"></i>\n    </button>\n    <h3 class="popup__title">${translate(title)}</h3>\n    ${content()}\n    ${element()}\n  </div>\n</div>'},function(e,t){e.exports='<a href="${href}" class="popup__link ${className}">${translate(text)}</a>'},function(e,t){e.exports='<div class="popup__subtext">\n  ${translate(text, { link })}\n</div>'},function(e,t){e.exports='<form class="form popup-form" novalidate>\n    ${elements()}\n    <div class="form__error popup-form__error">\n        <span class="form__input-error popup-form__input-error ${formError ? \'popup-form__input-error_display\' : \'\'}">${translate(formError)}</span>\n    </div>\n    <button class="popup-form__button form__button button">${translate(buttonText)}</button>\n</form>'},function(e,t){e.exports='<div class="form__field popup-form__field">\n  <label for="${form}-${fieldName}" class="form__label popup-form__label">${translate(fieldLabel)}</label>\n  <input type="${fieldType}" name="${fieldName}" ${pattern ? `pattern="${pattern}" ` : ``} class="form__input popup-form__input"\n    placeholder="${translate(placeholder)}" id="${form}-${fieldName}" ${minlength ? `minlength="${minlength}" ` : ``}\n    ${maxlength ? `maxlength="${maxlength}" ` : ``} ${required ? `required` : `` }>\n  <span class="form__input-error popup-form__input-error">\n    ${translate(message, { label: fieldLabel })}\n  </span>\n</div>'},function(e,t){e.exports='<div class="results">\n  <section class="results__container section section_results">\n    ${header()}\n    ${content()}\n    ${element()}\n  </section>\n</div>'},function(e,t){e.exports='<h2 class="results__title title title_mid">${translate(title)}</h2>'},function(e,t){e.exports='<div class="results__loading section">\n    <i class="circle-preloader"></i>\n    <p class="results__subtitle subtitle_normal subtitle">${translate(subtitle)}</p>\n</div>'},function(e,t){e.exports='<div class="results__no-results section">\n    <img src="${image}" alt="${translate(title)}"\n        class="results__image">\n    <h2 class="title_small title">${translate(title)}</h2>\n    <p class="results__subtitle subtitle_normal subtitle">\n        ${translate(subtitle)}\n    </p>\n</div>'},function(e,t){e.exports='<button class="results__button button">${translate(label)}</button>'},function(e,t){e.exports='<form class="search-form form" novalidate>\n  <input class="search-form__input form__input" type="text" name="${fieldName}"\n    placeholder="${translate(placeholder)}">\n  <button class="search-form__button button">\n    ${translate(buttonText)}\n  </button>\n</form>'},function(e,t){e.exports='<section class="search-info section">\n  <h3 class="search-info__heading">${translate(heading)}</h3>\n  <h1 class="search-info__title title title_mid">${translate(title)}</h1>\n  <p class="search-info__subtitle search-info__subtitle_dark subtitle subtitle_normal">\n    ${translate(subtitle)}\n  </p>\n</section>'},function(e,t){e.exports='<span class="search-info__subtitle search-info__subtitle_bold">${text}</span>'},function(e,t){e.exports='<section class="search section_search section">\n  <h1 class="search__title title_main title">${translate(title)}</h1>\n  <p class="search__subtitle subtitle_normal subtitle">\n    ${translate(subtitle)}\n  </p>\n  ${content}\n</section>'},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=(n(51),n(3)),s=n.n(i),a=n(4),c=n.n(a),u=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this,e),this._options=p({endpoint:"http://localhost:3000",token:""},t)}return c()(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(u.resolver)(p({},this._options,{},e));return p({},t,{headers:p({},t.headers||{},{Authorization:"Bearer ".concat(this.getToken())})})}},{key:"getToken",value:function(){return Object(u.resolver)({token:this._options.token}).token}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolveOptions(t);return fetch("".concat(n.endpoint,"/").concat(e),n).then((function(e){if(e.ok)return e.json();var t=new Error("".concat(e.statusText));throw t.code=e.status,t.json=function(){return e.json()},t})).catch((function(e){throw u.observer.notify("error",e),e}))}}]),e}(),h=n(14),O=n.n(h),d=n(5),_=n.n(d),g=n(2),m=n.n(g),b=n(6),v=n.n(b);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),(e=_()(this,m()(t).call(this,n))).storeNs=t.STORE_NS,e}return v()(t,e),c()(t,[{key:"getToken",value:function(){return localStorage.getItem("".concat(this.storeNs,".token"))}},{key:"setToken",value:function(e){return localStorage.setItem("".concat(this.storeNs,".token"),e),this}},{key:"signin",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return this.request("signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){var t=e.token;return n.setToken(t),t})).then(r)}},{key:"signup",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return this.request("signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})}).then(r)}},{key:"logout",value:function(){this.setToken("")}},{key:"getUserData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Promise.all([this.getUser(),this.getArticles()]).then((function(e){var t=O()(e,2);return E({},t[0],{articles:t[1]})})).then(e)}},{key:"getUser",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return this.request("users/me").then(e)}},{key:"getArticles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return this.request("articles").then(e)}},{key:"createArticle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return this.request("articles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t)}},{key:"removeArticle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return this.request("articles/".concat(e),{method:"DELETE"}).then(t)}}]),t}(f);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}P.STORE_NS="main-api";var R=function(e){function t(){return s()(this,t),_()(this,m()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"getNews",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new URLSearchParams(Object(u.resolver)(S({},this._options.params||{},{},e)));return this.request("everything?".concat(n)).then(t)}}]),t}(f),j=n(21);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new j.a(w({mainApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.config;return new P(w({},t.backends.main,{},e))},newsApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.config;return new R(w({},t.backends.news,{},e))},userData:function(){var e=this.get("mainApi");return e.getToken()?("userData"in this||(this.userData=e.getUserData()),this.userData):Promise.resolve({})}},e));return u.observer.subscribe("refresh",(function(){return delete t.userData})),t}},,,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=(n(54),n(50)),s=n(11);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=Object(i.a)({config:function(){var e=this.config;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{theme:"light",page:"index"})}});c.use(s.header,document.querySelector(".cover")),c.use(s.searchForm,document.querySelector(".search")),c.use(s.searchResults,document.querySelector(".main")),c.use(s.cardList,document.querySelector(".main")),c.use(s.newsCard),c.use(s.popup),c.use(s.popupForm),c.use(s.popupFormSignIn),c.use(s.popupFormSignUp),c.run()},function(e,t,n){}]);