{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/utils/delegate.js","webpack:///./src/app/utils/logger.js","webpack:///./src/app/utils/observer.js","webpack:///./src/app/utils/renderer.js","webpack:///./src/app/utils/resolver.js","webpack:///./src/app/utils/template.js","webpack:///./src/app/utils/translate.js","webpack:///./src/images/image-author.png","webpack:///./src/app/config/author.js","webpack:///./src/app/config/backends.js","webpack:///./src/app/config/forms.js","webpack:///./src/app/config/mapping.js","webpack:///./src/app/config/navigations.js","webpack:///./src/app/config/popups.js","webpack:///./src/app/config/results.js","webpack:///./src/blocks/author/author.js","webpack:///./src/app/factories/author.js","webpack:///./src/blocks/cards-container/cards-container.js","webpack:///./src/app/factories/card-list.js","webpack:///./src/blocks/footer/__link/footer__link.js","webpack:///./src/blocks/footer/__link-social/footer__link-social.js","webpack:///./src/blocks/footer/footer.js","webpack:///./src/app/factories/footer.js","webpack:///./src/blocks/header/__menu-button/header__menu-button.js","webpack:///./src/blocks/header/__menu-link/header__menu-link.js","webpack:///./src/blocks/header/header.js","webpack:///./src/app/handlers/header/signin.js","webpack:///./src/app/handlers/header/logout.js","webpack:///./src/app/handlers/header/index.js","webpack:///./src/app/factories/header.js","webpack:///./src/app/handlers/header/subscribe.js","webpack:///./src/blocks/card/__bookmark/card__bookmark.js","webpack:///./src/blocks/card/__delete/card__delete.js","webpack:///./src/blocks/card/__keyword/card__keyword.js","webpack:///./src/blocks/card/__tooltip/card__tooltip.js","webpack:///./src/blocks/card/card.js","webpack:///./src/images/thumbnail.png","webpack:///./src/app/models/BaseArticle.js","webpack:///./src/app/models/NewsArticle.js","webpack:///./src/app/handlers/popup/error.js","webpack:///./src/app/handlers/popup/toggle.js","webpack:///./src/app/handlers/card/bookmark.js","webpack:///./src/app/handlers/card/delete.js","webpack:///./src/app/factories/news-card.js","webpack:///./src/blocks/popup/__link/popup__link.js","webpack:///./src/blocks/popup/__subtext/popup__subtext.js","webpack:///./src/blocks/popup/popup.js","webpack:///./src/app/factories/popup.js","webpack:///./src/blocks/popup-form/__field/popup-form__field.js","webpack:///./src/blocks/popup-form/popup-form.js","webpack:///./src/app/factories/popup-form.js","webpack:///./src/app/handlers/popup-form/error.js","webpack:///./src/app/handlers/popup-form/signin.js","webpack:///./src/app/handlers/popup-form/signup.js","webpack:///./src/app/factories/popup-form-signin.js","webpack:///./src/app/factories/popup-form-signup.js","webpack:///./src/app/factories/saved-card.js","webpack:///./src/blocks/results/__title/results__title.js","webpack:///./src/blocks/results/__loading/results__loading.js","webpack:///./src/blocks/results/__no-results/results__no-results.png","webpack:///./src/blocks/results/__no-results/results__no-results.js","webpack:///./src/blocks/results/__button/results__button.js","webpack:///./src/blocks/results/results.js","webpack:///./src/app/handlers/results/load-list.js","webpack:///./src/app/handlers/results/show-more.js","webpack:///./src/app/handlers/results/subscribe.js","webpack:///./src/app/handlers/results/index.js","webpack:///./src/app/factories/saved-results.js","webpack:///./src/blocks/search-form/search-form.js","webpack:///./src/app/handlers/search-form/search.js","webpack:///./src/app/factories/search-form.js","webpack:///./src/app/handlers/search-form/subscribe.js","webpack:///./src/blocks/search-info/__subtitle/search-info__subtitle.js","webpack:///./src/blocks/search-info/search-info.js","webpack:///./src/app/handlers/search-info/index.js","webpack:///./src/app/factories/search-info.js","webpack:///./src/app/factories/search-results.js","webpack:///./src/blocks/search/search.js","webpack:///./src/app/factories/search.js","webpack:///./src/app/components/BaseComponent.js","webpack:///./src/app/components/BlockComponent.js","webpack:///./src/app/components/CardComponent.js","webpack:///./src/app/components/CardListComponent.js","webpack:///./src/app/components/FooterComponent.js","webpack:///./src/app/components/FormComponent.js","webpack:///./src/app/components/HeaderComponent.js","webpack:///./src/app/components/ProxyComponent.js","webpack:///./src/app/components/PopupComponent.js","webpack:///./src/app/components/ResultsComponent.js","webpack:///./src/app/components/SearchFormComponent.js","webpack:///./src/app/components/SearchInfoComponent.js","webpack:///./src/app/config/messages.js","webpack:///./src/app/utils/factory.js","webpack:///./src/app/utils/merge.js","webpack:///./src/app/utils/formatter.js","webpack:///./src/app/utils/datetime.js","webpack:///./src/app/App.js","webpack:///./src/blocks/author/author.html","webpack:///./src/blocks/cards-container/cards-container.html","webpack:///./src/blocks/footer/footer.html","webpack:///./src/blocks/footer/__link/footer__link.html","webpack:///./src/blocks/footer/__link-social/footer__link-social.html","webpack:///./src/blocks/header/header.html","webpack:///./src/blocks/header/__menu-button/header__menu-button.html","webpack:///./src/blocks/header/__menu-link/header__menu-link.html","webpack:///./src/blocks/card/card.html","webpack:///./src/blocks/card/__bookmark/card__bookmark.html","webpack:///./src/blocks/card/__delete/card__delete.html","webpack:///./src/blocks/card/__keyword/card__keyword.html","webpack:///./src/blocks/card/__tooltip/card__tooltip.html","webpack:///./src/blocks/popup/popup.html","webpack:///./src/blocks/popup/__link/popup__link.html","webpack:///./src/blocks/popup/__subtext/popup__subtext.html","webpack:///./src/blocks/popup-form/popup-form.html","webpack:///./src/blocks/popup-form/__field/popup-form__field.html","webpack:///./src/blocks/results/results.html","webpack:///./src/blocks/results/__title/results__title.html","webpack:///./src/blocks/results/__loading/results__loading.html","webpack:///./src/blocks/results/__no-results/results__no-results.html","webpack:///./src/blocks/results/__button/results__button.html","webpack:///./src/blocks/search-form/search-form.html","webpack:///./src/blocks/search-info/search-info.html","webpack:///./src/blocks/search-info/__subtitle/search-info__subtitle.html","webpack:///./src/blocks/search/search.html","webpack:///./src/app/api/BaseApi.js","webpack:///./src/app/api/MainApi.js","webpack:///./src/app/api/NewsApi.js","webpack:///./src/app.js","webpack:///./src/pages/saved-news.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","contextMap","Map","listenerMap","addEventHandler","context","className","event","handler","options","has","set","eventMap","classMap","handlerMap","removeEventHandler","size","removeEventListener","eventListener","e","element","target","forEach","handlers","classKey","classList","contains","closest","h","defaultPrevented","once","addEventListener","logger","message","DEBUG","ERROR","WARN","INFO","Observer","this","_event","_handlers","Set","add","Array","isArray","subscribe","addHandler","notify","execute","app","App","position","BlockComponent","RENDER_APPEND","props","factories","components","render","resolver","keys","reduce","k","tmpl","content","$","Function","compile","values","translate","label","lang","process","replace","messages","avatar","author","title","main","endpoint","news","token","params","language","from","datetime","toISO","sortBy","pageSize","search","buttonText","fields","fieldfieldLabel","fieldType","placeholder","required","minlength","maxlength","signin","linkToText","email","fieldLabel","pattern","password","signup","BaseArticle","id","keyword","text","date","link","image","source","NewsArticle","index","type","href","login","action","logged","saved","logout","footer","yandex","rel","social","github","icon","facebook","success","error","loading","subtitle","noResults","showMore","limit","baseClass","template","defaults","block","config","cards","CardListComponent","copyright","elements","footerLink","socialLink","FooterComponent","navigations","innerText","active","theme","publicUrl","button","delegate","preventDefault","popupComponent","component","then","ctx","handle","setProps","loggedIn","clear","constructor","RENDER_PREPEND","observer","page","mainApi","getToken","getUser","userName","err","HeaderComponent","renderHandler","signinHandler","logoutHandler","toogleClass","bookmark","tooltip","deleter","_data","getRawData","_mapping","mapping","field","defaultValue","getMapping","article","filter","JSON","stringify","getData","encode","resolve","Date","thumbnail","encodeURIComponent","toJson","encoded","parse","decodeURIComponent","json","popupType","querySelector","getBookmarkElement","card","getTooltipElement","getProps","baseArticle","decode","Promise","removeArticle","bArticle","remove","RENDER_AFTER","createArticle","errorHandler","getDeleterElement","cardComponent","CardComponent","_","_setElements","bookmarkHandler","addElement","subtext","PopupComponent","popups","formError","FormComponent","forms","res","setValues","popupFormSignIn","getUserData","user","popupFormSignUp","toggleHandler","ProxyComponent","document","factory","popupFormComponent","toHtml","signupHandler","deleteHandler","getKeywordElement","header","Article","articles","map","results","renderResults","cardType","sliced","cardListComponent","item","addCard","renderCards","reloadList","clearCards","ResultsComponent","setPropsHandler","showMoreHandler","loadListHandler","subscribeHandler","fieldName","resultsComponent","resultsContext","getQuery","newsApi","renderLoading","all","getNews","q","getArticles","newsArticles","baseArticles","newsArticle","find","ba","equals","renderNoResults","SearchFormComponent","searchHandler","toString","count","counters","keywords","counter","sort","a","b","keywordsToHtml","SearchInfoComponent","heading","BaseComponent","_setHandlers","ownerDocument","createElement","innerHTML","children","getDefaultHandlers","_elements","mergedProps","_checkProps","utils","getTemplate","_required","_defaults","getDefaults","_props","_defaultHandlers","getRequired","Error","RENDER_BEFORE","RENDER_REPLACE","_block","isRendered","querySelectorAll","args","_elementComponents","join","bookmarkElement","tooltipElement","deleterElement","keywordElement","_cards","renderLinks","navigation","footerLinks","socialLinks","_values","formElement","formButton","acc","el","validity","valid","removeAttribute","setAttribute","getValues","populateForm","activateForm","form","togglerClass","toggledClass","toggle","navItem","_factory","_context","_component","closeBtnClass","subtextElement","linkElement","getSubtextElement","getLinkElement","loadingElement","getLoadingElement","noResultsElement","getNoResultsElement","headerElement","buttonElement","getHeaderElement","getButtonElement","resultsCount","fieldElement","requestSubmit","subtitleElement","countToShow","getSubtitleElement","charAt","toUpperCase","substring","en","BLOCK_AUTHOR_TITLE","BLOCK_AUTHOR_ABOUT","BLOCK_SEARCH_TITLE","BLOCK_SEARCH_SUBTITLE","BLOCK_SEARCH_FORM_INPUT_PLACEHOLDER","BLOCK_SEARCH_FORM_BUTTON_TEXT","BLOCK_SEARCH_INFO_SAVED_ARTICLES","BLOCK_SEARCH_INFO_ARTICLES_COUNT","BLOCK_SEARCH_INFO_BY_KEYWORDS","BLOCK_SEARCH_INFO_MORE_KEYWORDS","BLOCK_RESULTS_SEARCH_TITLE","BLOCK_RESULTS_LOADING_SUBTITLE","BLOCK_RESULTS_NO_RESULTS_TITLE","BLOCK_RESULTS_NO_RESULTS_SUBTITLE","BLOCK_RESULTS_BUTTON_SHOW_MORE","BLOCK_FOOTER_COPYRIGHT","BLOCK_TOOLTIP_UNAUTHORIZED","BLOCK_TOOLTIP_SAVE","BLOCK_TOOLTIP_DROP","FORM_FIELD_MESSAGE","FORM_FIELD_SEARCH_LABEL","FORM_FIELD_SEARCH_PLACEHOLDER","FORM_BUTTON_SEARCH","FORM_BUTTON_SIGNIN","FORM_BUTTON_SIGNUP","FORM_FIELD_EMAIL_LABEL","FORM_FIELD_EMAIL_PLACEHOLDER","FORM_FIELD_PASSWORD_LABEL","FORM_FIELD_PASSWORD_PLACEHOLDER","FORM_FIELD_NAME_LABEL","FORM_FIELD_NAME_PLACEHOLDER","FORM_TITLE_SEARCH","FORM_TITLE_SIGNIN","FORM_TITLE_SIGNUP","POPUP_FORM_SUBTEXT","POPUP_SIGNUP_SUCCESS_TITLE","POPUP_SIGNUP_SUCCESS_LINK","POPUP_SIGNUP_ERROR_TITLE","POPUP_SIGNUP_ERROR_LINK","COMPONENT_ERROR_TEMPLATE_DIDNT_SETUP","COMPONENT_ERROR_PROPERTY_IS_REQUIRED","NAVIGATION_DEFAULT_INDEX","NAVIGATION_DEFAULT_LOGIN","NAVIGATION_LOGGED_INDEX","NAVIGATION_LOGGED_SAVED","NAVIGATION_LOGGED_LOGOUT","NAVIGATION_FOOTER_INDEX","NAVIGATION_FOOTER_YANDEX","NAVIGATION_SOCIAL_GITHUB","NAVIGATION_SOCIAL_FACEBOOK","MONTHS_WITH_POSTFIX","ru","BLOCK_AUTHOR_NAME","proto","instance","protoProps","instanceProps","assign","merge","mergeTo","undefined","sources","month","split","RegExp","test","postfix","days","setDate","getDate","toISOString","format","day","toLocaleString","year","getFullYear","formatter","_factories","_instances","_components","promises","instances","hasHandlers","BaseApi","_options","resolved","headers","Authorization","path","resolvedOptions","resolveOptions","fetch","response","ok","statusText","code","status","MainApi","storeNs","STORE_NS","localStorage","getItem","setItem","callback","request","method","body","setToken","NewsApi","searchParams","URLSearchParams","backends","userData","use","searchInfo","savedResults","cardList","savedCard","popup","popupForm","run"],"mappings":"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","file":"scripts/saved.bc98f67deb39c6d8961c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://olgamiliukova.github.io/news-explorer-web/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([65,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","const contextMap = new Map();\nconst listenerMap = new Map();\n\nconst addEventHandler = (\n  context,\n  className,\n  event,\n  handler,\n  options = {},\n) => {\n  if (!contextMap.has(context)) {\n    contextMap.set(context, new Map());\n  }\n\n  const eventMap = contextMap.get(context);\n\n  if (!eventMap.has(event)) {\n    eventMap.set(event, new Map());\n  }\n\n  const classMap = eventMap.get(event);\n\n  if (!classMap.has(className)) {\n    classMap.set(className, new Map());\n  }\n\n  const handlerMap = classMap.get(className);\n\n  handlerMap.set(handler, options);\n};\n\nconst removeEventHandler = (\n  context,\n  className,\n  event,\n  handler,\n) => {\n  if (contextMap.has(context)) {\n    const eventMap = contextMap.get(context);\n    if (eventMap.has(event)) {\n      const classMap = eventMap.get(event);\n      if (classMap.has(className)) {\n        const handlerMap = classMap.get(className);\n        if (handlerMap.has(handler)) {\n          handlerMap.delete(handler);\n        }\n\n        if (!handlerMap.size) {\n          classMap.delete(className);\n        }\n      }\n\n      if (!classMap.size) {\n        if (listenerMap.has(context) && listenerMap.get(context).has(event)) {\n          context.removeEventListener(\n            event,\n            listenerMap.get(context).get(event),\n            false,\n          );\n\n          listenerMap.get(context).delete(event);\n          if (!listenerMap.get(context).size) {\n            listenerMap.delete(context);\n          }\n        }\n\n        eventMap.delete(event);\n      }\n    }\n\n    if (!eventMap.size) {\n      contextMap.delete(context);\n    }\n  }\n};\n\nexport default (\n  context,\n  className,\n  event,\n  handler,\n  options = {},\n) => {\n  addEventHandler(\n    context,\n    className,\n    event,\n    handler,\n    options,\n  );\n\n  const eventMap = contextMap.get(context);\n  const classMap = eventMap.get(event);\n\n  if (classMap.get(className).size > 1) {\n    return;\n  }\n\n  function eventListener(e) {\n    const element = e.target;\n\n    classMap.forEach(\n      (handlers, classKey) => {\n        if (element.classList.contains(classKey) || element.closest(`.${classKey}`)) {\n          handlers.forEach(\n            (o, h) => {\n              if (!e.defaultPrevented) {\n                h.call(element, e, o);\n                if (o.once) {\n                  removeEventHandler(\n                    context,\n                    className,\n                    event,\n                    h,\n                  );\n                }\n              }\n            },\n          );\n        }\n      },\n    );\n  }\n\n  context.addEventListener(\n    event,\n    eventListener,\n    false,\n  );\n\n  if (!listenerMap.has(context)) {\n    listenerMap.set(context, new Map());\n  }\n\n  listenerMap.get(context).set(event, eventListener);\n};\n","const logger = (message, level = logger.INFO) => (\n  process.env.NODE_ENV === 'development' ? console[level](message) : message\n);\n\nlogger.DEBUG = 'debug';\nlogger.ERROR = 'error';\nlogger.WARN = 'warn';\nlogger.INFO = 'info';\n\nexport default logger;\n","export default class Observer {\n  constructor(event) {\n    this._event = event;\n    this._handlers = new Set();\n  }\n\n  static subscribe(event, handler) {\n    if (Array.isArray(event)) {\n      event.forEach(\n        (e) => Observer.subscribe(e, handler),\n      );\n\n      return;\n    }\n\n    if (!Observer.eventMap.has(event)) {\n      Observer.eventMap.set(event, new Observer(event));\n    }\n\n    Observer.eventMap.get(event).addHandler(handler);\n  }\n\n  static notify(event, data = {}) {\n    if (Array.isArray(event)) {\n      event.forEach(\n        (e) => Observer.notify(e, data),\n      );\n\n      return;\n    }\n\n    if (Observer.eventMap.has(event)) {\n      Observer.eventMap.get(event).execute(data);\n    }\n  }\n\n  get event() {\n    return this._event;\n  }\n\n  addHandler(handler) {\n    this._handlers.add(handler);\n  }\n\n  execute(data) {\n    this._handlers.forEach(\n      (handler) => handler.call(this, data),\n    );\n  }\n}\n\nObserver.eventMap = new Map();\n","import App from '../App';\nimport * as components from '../components';\nimport * as factories from '../factories';\n\nconst app = new App();\n\nexport const toHtml = (\n  name,\n  props = {},\n) => factories[name](components, app).toHtml(props);\n\nexport default (\n  name,\n  {\n    context,\n    position = BlockComponent.RENDER_APPEND,\n    ...props\n  },\n) => factories[name](components, app).render({\n  context,\n  position,\n  ...props,\n});\n","const resolver = (data = {}) => Object.keys(data).reduce(\n  (d, k) => {\n    if (typeof d[k] === 'function') {\n      return {\n        ...d,\n        [k]: d[k].call(),\n      };\n    }\n\n    if (typeof d[k] === 'object') {\n      return {\n        ...d,\n        [k]: resolver(d[k]),\n      };\n    }\n\n    return d;\n  },\n  data,\n);\n\nexport default resolver;\n","/* eslint-disable */\nconst compile = (content, $ = '$') => Function($, 'return `' + content + '`;');\n/* eslint-enable */\nexport default (tmpl) => (\n  (data) => compile(tmpl, Object.keys(data))(...Object.values(data))\n);\n","import { messages } from '../config';\n\nconst translate = (\n  label,\n  data = {},\n  lang = (process.env.BACKEND_NEWS_LANGUAGE || 'ru'),\n) => Object.keys(data).reduce(\n  (message, key) => message.replace(\n    `%${key}%`,\n    translate(\n      typeof data[key] === 'function'\n        ? data[key].call()\n        : data[key],\n    ),\n  ),\n  (messages[lang] && messages[lang][label]) || label,\n);\n\nexport default translate;\n","export default __webpack_public_path__ + \"images/image-author.1f4675de1b4577af10577e2031cd8e0d.png\";","import avatar from '../../images/image-author.png';\n\nexport default {\n  avatar,\n  author: 'BLOCK_AUTHOR_NAME',\n  title: 'BLOCK_AUTHOR_TITLE',\n  content: 'BLOCK_AUTHOR_ABOUT',\n};\n","import datetime from '../utils/datetime';\n\nexport default {\n  main: {\n    endpoint: process.env.BACKEND_MAIN_ENDPOINT || 'http://localhost:3000',\n  },\n  news: {\n    endpoint: process.env.BACKEND_NEWS_ENDPOINT || 'http://newsapi.org/v2',\n    token: process.env.BACKEND_NEWS_APITOKEN || '',\n    params: {\n      language: process.env.BACKEND_NEWS_LANGUAGE || 'ru',\n      from() {\n        return datetime.toISO(-7);\n      },\n      sortBy: 'publishedAt',\n      pageSize: process.env.BACKEND_NEWS_PAGESIZE || 100,\n    },\n  },\n};\n","export default {\n  search: {\n    title: 'FORM_TITLE_SEARCH',\n    buttonText: 'FORM_BUTTON_SEARCH',\n    fields: {\n      search: {\n        fieldfieldLabel: 'FORM_FIELD_SEARCH_LABEL',\n        fieldType: 'text',\n        placeholder: 'FORM_FIELD_SEARCH_PLACEHOLDER',\n        required: true,\n        minlength: 2,\n        maxlength: 30,\n        message: 'FORM_FIELD_MESSAGE',\n      },\n    },\n  },\n  signin: {\n    title: 'FORM_TITLE_SIGNIN',\n    buttonText: 'FORM_BUTTON_SIGNIN',\n    linkToText: 'FORM_BUTTON_SIGNUP',\n    fields: {\n      email: {\n        fieldLabel: 'FORM_FIELD_EMAIL_LABEL',\n        fieldType: 'email',\n        placeholder: 'FORM_FIELD_EMAIL_PLACEHOLDER',\n        pattern: '^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,63}$',\n        required: true,\n        message: 'FORM_FIELD_MESSAGE',\n      },\n      password: {\n        fieldLabel: 'FORM_FIELD_PASSWORD_LABEL',\n        fieldType: 'password',\n        placeholder: 'FORM_FIELD_PASSWORD_PLACEHOLDER',\n        required: true,\n        minlength: 2,\n        maxlength: 30,\n        message: 'FORM_FIELD_MESSAGE',\n      },\n    },\n  },\n  signup: {\n    title: 'FORM_TITLE_SIGNUP',\n    buttonText: 'FORM_BUTTON_SIGNUP',\n    linkToText: 'FORM_BUTTON_SIGNIN',\n    fields: {\n      email: {\n        fieldLabel: 'FORM_FIELD_EMAIL_LABEL',\n        fieldType: 'email',\n        placeholder: 'FORM_FIELD_EMAIL_PLACEHOLDER',\n        pattern: '^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,63}$',\n        required: true,\n        message: 'FORM_FIELD_MESSAGE',\n      },\n      password: {\n        fieldLabel: 'FORM_FIELD_PASSWORD_LABEL',\n        fieldType: 'password',\n        placeholder: 'FORM_FIELD_PASSWORD_PLACEHOLDER',\n        required: true,\n        minlength: 8,\n        maxlength: 30,\n        message: 'FORM_FIELD_MESSAGE',\n      },\n      name: {\n        fieldLabel: 'FORM_FIELD_NAME_LABEL',\n        fieldType: 'text',\n        placeholder: 'FORM_FIELD_NAME_PLACEHOLDER',\n        required: true,\n        minlength: 2,\n        maxlength: 30,\n        message: 'FORM_FIELD_MESSAGE',\n      },\n    },\n  },\n};\n","export default {\n  BaseArticle: {\n    id: '_id',\n    keyword: 'keyword',\n    title: 'title',\n    text: 'text',\n    date: 'date',\n    link: 'link',\n    image: 'image',\n    source: 'source',\n  },\n  NewsArticle: {\n    id: '_id',\n    keyword: 'keyword',\n    title: 'title',\n    text: 'description',\n    date: 'publishedAt',\n    link: 'url',\n    image: 'urlToImage',\n    source: 'source',\n  },\n};\n","export default {\n  index: {\n    index: {\n      type: 'link',\n      href: process.env.PUBLIC_PATH || '/',\n      text: 'NAVIGATION_DEFAULT_INDEX',\n    },\n    login: {\n      type: 'button',\n      action: 'signin',\n      text: 'NAVIGATION_DEFAULT_LOGIN',\n    },\n  },\n  logged: {\n    index: {\n      type: 'link',\n      href: process.env.PUBLIC_PATH || '/',\n      text: 'NAVIGATION_LOGGED_INDEX',\n    },\n    saved: {\n      type: 'link',\n      href: `${process.env.PUBLIC_PATH || '/'}saved-news.html`,\n      text: 'NAVIGATION_LOGGED_SAVED',\n    },\n    logout: {\n      type: 'button',\n      action: 'logout',\n      text: 'NAVIGATION_LOGGED_LOGOUT',\n    },\n  },\n  footer: {\n    index: {\n      type: 'link',\n      href: process.env.PUBLIC_PATH || '/',\n      text: 'NAVIGATION_FOOTER_INDEX',\n    },\n    yandex: {\n      type: 'link',\n      target: '_blank',\n      rel: 'noreferrer',\n      href: 'https://praktikum.yandex.ru',\n      text: 'NAVIGATION_FOOTER_YANDEX',\n    },\n  },\n  social: {\n    github: {\n      type: 'link',\n      target: '_blank',\n      rel: 'noreferrer',\n      href: 'https://github.com',\n      text: 'NAVIGATION_SOCIAL_GITHUB',\n      icon: 'github',\n    },\n    facebook: {\n      type: 'link',\n      target: '_blank',\n      rel: 'noreferrer',\n      href: 'https://www.facebook.com',\n      text: 'NAVIGATION_SOCIAL_FACEBOOK',\n      icon: 'facebook',\n    },\n  },\n};\n","export default {\n  signin: {\n    title: 'FORM_TITLE_SIGNIN',\n    text: 'POPUP_FORM_SUBTEXT',\n    link: 'FORM_BUTTON_SIGNUP',\n  },\n  signup: {\n    title: 'FORM_TITLE_SIGNUP',\n    text: 'POPUP_FORM_SUBTEXT',\n    link: 'FORM_BUTTON_SIGNIN',\n  },\n  success: {\n    title: 'POPUP_SIGNUP_SUCCESS_TITLE',\n    text: '%link%',\n    link: 'POPUP_SIGNUP_SUCCESS_LINK',\n  },\n  error: {\n    title: 'POPUP_SIGNUP_ERROR_TITLE',\n    text: '%link%',\n    link: 'POPUP_SIGNUP_ERROR_LINK',\n  },\n};\n","export default {\n  title: 'BLOCK_RESULTS_SEARCH_TITLE',\n  loading: {\n    subtitle: 'BLOCK_RESULTS_LOADING_SUBTITLE',\n  },\n  noResults: {\n    title: 'BLOCK_RESULTS_NO_RESULTS_TITLE',\n    subtitle: 'BLOCK_RESULTS_NO_RESULTS_SUBTITLE',\n  },\n  showMore: {\n    label: 'BLOCK_RESULTS_BUTTON_SHOW_MORE',\n    limit: 3,\n  },\n};\n","import template from './author.html';\n\nexport default {\n  baseClass: 'author',\n  template,\n  options: {\n    required: [\n      'avatar',\n      'author',\n      'title',\n      'content',\n    ],\n    defaults: {},\n  },\n};\n","import block from '../../blocks/author/author';\nimport { author as config } from '../config';\n\nexport default ({ BlockComponent }) => {\n  const props = { name: 'author', block, ...config };\n  const handlers = [];\n\n  return new BlockComponent(props, handlers);\n};\n","import template from './cards-container.html';\n\nexport default {\n  baseClass: 'cards-container',\n  template,\n  options: {\n    defaults: {\n      cards: () => '',\n    },\n  },\n};\n","import block from '../../blocks/cards-container/cards-container';\n\nexport default ({ CardListComponent }) => {\n  const props = { name: 'cardList', block };\n  const handlers = [];\n\n  return new CardListComponent(props, handlers);\n};\n","import template from './footer__link.html';\n\nexport default {\n  baseClass: 'footer__link',\n  template,\n  options: {\n    required: [\n      'href',\n      'text',\n    ],\n    defaults: {\n      target: '_self',\n      rel: '',\n    },\n  },\n};\n","import template from './footer__link-social.html';\n\nexport default {\n  baseClass: 'footer__link-social',\n  template,\n  options: {\n    required: [\n      'href',\n      'target',\n      'rel',\n      'icon',\n      'text',\n    ],\n    defaults: {},\n  },\n};\n","import template from './footer.html';\nimport footerLink from './__link/footer__link';\nimport socialLink from './__link-social/footer__link-social';\n\nexport default {\n  baseClass: 'footer',\n  template,\n  options: {\n    required: [\n      'footerLinks',\n      'socialLinks',\n    ],\n    defaults: {\n      copyright: '',\n    },\n  },\n  elements: {\n    footerLink,\n    socialLink,\n  },\n};\n","import block from '../../blocks/footer/footer';\nimport { navigations } from '../config';\n\nexport default ({ FooterComponent }) => {\n  const props = {\n    name: 'footer',\n    block,\n    navigations,\n    copyright: 'BLOCK_FOOTER_COPYRIGHT',\n  };\n  const handlers = [];\n\n  return new FooterComponent(props, handlers);\n};\n","import template from './header__menu-button.html';\n\nexport default {\n  baseClass: 'header__menu-button',\n  template,\n  options: {\n    required: [\n      'action',\n      'text',\n    ],\n    defaults: {\n      innerText: '',\n    },\n  },\n};\n","import template from './header__menu-link.html';\n\nexport default {\n  baseClass: 'header__menu-link',\n  template,\n  options: {\n    required: [\n      'href',\n      'text',\n    ],\n    defaults: {\n      active: false,\n      innerText: '',\n    },\n  },\n};\n","\nimport template from './header.html';\nimport button from './__menu-button/header__menu-button';\nimport link from './__menu-link/header__menu-link';\n\nexport default {\n  baseClass: 'header',\n  template,\n  options: {\n    required: [\n      'navigation',\n    ],\n    defaults: {\n      theme: 'light',\n      publicUrl: '/',\n    },\n  },\n  elements: {\n    button,\n    link,\n  },\n};\n","import { delegate } from '../../utils';\n\nexport default (app) => (context) => delegate(\n  context,\n  'button__signin',\n  'click',\n  (e) => {\n    e.preventDefault();\n\n    const { component: popupComponent } = app.get('popupFormSignIn');\n\n    popupComponent.render()\n      .then(\n        (ctx) => popupComponent.handle(ctx),\n      );\n  },\n);\n","import { delegate, observer } from '../../utils';\n\nexport default (app) => (context, component) => delegate(\n  context,\n  'button__logout',\n  'click',\n  (e) => {\n    e.preventDefault();\n\n    const mainApi = app.get('mainApi');\n\n    mainApi.logout();\n\n    // Update header\n    component.setProps({ loggedIn: false });\n    component.clear(context).then(\n      () => component.render({\n        context,\n        position: component.constructor.RENDER_PREPEND,\n      }),\n    );\n\n    observer.notify(['logout', 'refresh']);\n  },\n);\n","import { logger } from '../../utils';\n\nexport { default as signinHandler } from './signin';\nexport { default as logoutHandler } from './logout';\nexport { default as subscribeHandler } from './subscribe';\n\nexport default (app) => (context, component) => {\n  const { theme, page } = app.get('config');\n\n  component.setProps({\n    theme,\n    page,\n  });\n\n  const mainApi = app.get('mainApi');\n\n  if (!mainApi.getToken()) {\n    return;\n  }\n\n  mainApi.getUser().then(\n    ({ name: userName }) => {\n      component.setProps({\n        loggedIn: !!userName,\n        userName,\n      });\n\n      return component.clear(context).then(\n        () => component.render({\n          context,\n          position: component.constructor.RENDER_PREPEND,\n        }),\n      );\n    },\n  )\n    .catch(\n      (err) => logger(err, logger.ERROR),\n    );\n};\n","import block from '../../blocks/header/header';\nimport { navigations } from '../config';\nimport renderHandler, {\n  signinHandler,\n  logoutHandler,\n  subscribeHandler,\n} from '../handlers/header';\n\nexport default ({ HeaderComponent }, app) => {\n  const props = { name: 'header', block, navigations };\n  const handlers = [\n    renderHandler(app),\n    signinHandler(app),\n    logoutHandler(app),\n    subscribeHandler(),\n  ];\n\n  return new HeaderComponent(props, handlers);\n};\n","import { observer } from '../../utils';\n\nexport default () => (context, component) => {\n  observer.subscribe(\n    'signin',\n    ({ name: userName }) => {\n      component.setProps({\n        loggedIn: !!userName,\n        userName,\n      });\n\n      component.clear(context).then(\n        () => component.render({\n          context,\n          position: component.constructor.RENDER_PREPEND,\n        }),\n      );\n    },\n  );\n};\n","import template from './card__bookmark.html';\n\nexport default {\n  baseClass: 'card__bookmark',\n  template,\n  options: {\n    required: [\n      'article',\n    ],\n    defaults: {\n      toogleClass: 'card__bookmark_marked',\n    },\n  },\n};\n","import template from './card__delete.html';\n\nexport default {\n  baseClass: 'card__delete',\n  template,\n  options: {\n    required: [\n      'article',\n    ],\n  },\n};\n","import template from './card__keyword.html';\n\nexport default {\n  baseClass: 'card__keyword',\n  template,\n  options: {\n    required: [\n      'article',\n    ],\n  },\n};\n","import template from './card__tooltip.html';\n\nexport default {\n  baseClass: 'card__tooltip',\n  template,\n  options: {\n    required: [\n      'article',\n      'logged',\n    ],\n    defaults: {\n      text: () => '',\n    },\n  },\n};\n","import template from './card.html';\nimport bookmark from './__bookmark/card__bookmark';\nimport deleter from './__delete/card__delete';\nimport keyword from './__keyword/card__keyword';\nimport tooltip from './__tooltip/card__tooltip';\n\nexport default {\n  baseClass: 'card',\n  template,\n  options: {\n    required: [\n      'article',\n    ],\n    defaults: {\n      elements: () => '',\n    },\n  },\n  elements: {\n    bookmark,\n    tooltip,\n    deleter,\n    keyword,\n  },\n};\n","export default __webpack_public_path__ + \"images/thumbnail.2f6868abe22eed9d3cb0bf4b3c2ef545.png\";","import { mapping } from '../config';\nimport thumbnail from '../../images/thumbnail.png';\n\nexport default class BaseArticle {\n  constructor(data = {}) {\n    this._data = data instanceof BaseArticle\n      ? data.getRawData()\n      : data;\n    this._mapping = mapping;\n  }\n\n  static encode(article, filter = (key) => key) {\n    return encodeURIComponent(article.toJson(filter));\n  }\n\n  static decode(encoded) {\n    return new BaseArticle(JSON.parse(decodeURIComponent(encoded)));\n  }\n\n  get id() {\n    return this.resolve('id');\n  }\n\n  get keyword() {\n    return this.resolve('keyword');\n  }\n\n  get title() {\n    return this.resolve('title');\n  }\n\n  get text() {\n    return this.resolve('text');\n  }\n\n  get date() {\n    return this.resolve('date', new Date());\n  }\n\n  get link() {\n    return this.resolve('link');\n  }\n\n  get image() {\n    return this.resolve('image', thumbnail);\n  }\n\n  get source() {\n    return this.resolve('source');\n  }\n\n  resolve(field, defaultValue = '') {\n    return (\n      this.getMapping()[field] && this._data[this.getMapping()[field]]\n    ) || this._data[field] || defaultValue;\n  }\n\n  equals(article) {\n    return article.link === this.link;\n  }\n\n  getMapping() {\n    return this._mapping.BaseArticle;\n  }\n\n  getData(filter = (key) => key) {\n    return Object.keys(this.getMapping()).filter(filter).reduce(\n      (data, field) => ({\n        ...data,\n        [field]: this[field],\n      }),\n      {},\n    );\n  }\n\n  getRawData() {\n    return this._data;\n  }\n\n  toJson(filter = (key) => key) {\n    return JSON.stringify(this.getData(filter));\n  }\n\n  encode(filter = (key) => key) {\n    return BaseArticle.encode(this, filter);\n  }\n}\n","import BaseArticle from './BaseArticle';\n\nexport default class NewsArticle extends BaseArticle {\n  getMapping() {\n    return this._mapping.NewsArticle;\n  }\n\n  get source() {\n    return this.resolve('source', {}).name || '';\n  }\n}\n","import { delegate, translate, logger } from '../../utils';\n\nexport default (app, context, component) => (err) => (\n  err.json\n    ? err.json().then(\n      ({ message }) => {\n        const { component: popupComponent } = app.create('popup', {\n          type: 'error',\n        }, [\n          () => delegate(\n            context,\n            'popup__link',\n            'click',\n            (event) => {\n              event.preventDefault();\n              popupComponent.clear(context);\n            },\n          ),\n        ]);\n\n        popupComponent.render({\n          context,\n          position: component.constructor.RENDER_PREPEND,\n          content: () => translate(message),\n        })\n          .then(\n            (ctx) => popupComponent.handle(ctx),\n          );\n      },\n    )\n    : logger(err, logger.ERROR)\n);\n","import { delegate } from '../../utils';\n\nexport default (app, popupType) => (context, component) => delegate(\n  context.querySelector(`.${component.baseClass}`),\n  'popup__link',\n  'click',\n  (e) => {\n    e.preventDefault();\n\n    const { component: popupComponent } = app.get(popupType);\n\n    // Switch to another popup\n    component.clear()\n      .then(\n        () => popupComponent.render(),\n      )\n      .then(\n        (ctx) => popupComponent.handle(ctx),\n      );\n  },\n);\n","import { BaseArticle } from '../../models';\nimport { errorHandler } from '../popup';\nimport { delegate } from '../../utils';\n\nexport default (app) => (context, component) => delegate(\n  context,\n  component.getBookmarkElement().baseClass,\n  'click',\n  (e) => {\n    e.preventDefault();\n\n    const mainApi = app.get('mainApi');\n\n    if (!mainApi.getToken()) {\n      return;\n    }\n\n    const card = e.target.closest(`.${component.baseClass}`);\n    const bookmark = card.querySelector(`.${component.getBookmarkElement().baseClass}`);\n    const tooltip = card.querySelector(`.${component.getTooltipElement().baseClass}`);\n    const { toogleClass } = component.getBookmarkElement().getProps();\n    const baseArticle = BaseArticle.decode(bookmark.value);\n\n    Promise.resolve(\n      !baseArticle.id\n        ? mainApi.createArticle(baseArticle.getData((key) => key !== 'id')).then(\n          (article) => {\n            const bArticle = new BaseArticle(article);\n\n            bookmark.value = bArticle.encode();\n            bookmark.classList.add(toogleClass);\n            tooltip.remove();\n\n            component.getTooltipElement().render({\n              context: bookmark,\n              position: component.constructor.RENDER_AFTER,\n              article: bArticle.getData(),\n              logged: !!mainApi.getToken(),\n            });\n          },\n        )\n        : mainApi.removeArticle(baseArticle.id).then(\n          (article) => {\n            const bArticle = new BaseArticle(article);\n\n            bookmark.value = bArticle.encode((key) => key !== 'id');\n            bookmark.classList.remove(toogleClass);\n            tooltip.remove();\n\n            component.getTooltipElement().render({\n              context: bookmark,\n              position: component.constructor.RENDER_AFTER,\n              article: bArticle.getData((key) => key !== 'id'),\n              logged: !!mainApi.getToken(),\n            });\n          },\n        ),\n    )\n      .catch(\n        errorHandler(app, context, component),\n      );\n  },\n);\n","import { errorHandler } from '../popup';\nimport { delegate, observer } from '../../utils';\n\nexport default (app) => (context, component) => delegate(\n  context,\n  component.getDeleterElement().baseClass,\n  'click',\n  (e) => {\n    e.preventDefault();\n\n    const mainApi = app.get('mainApi');\n\n    if (!mainApi.getToken()) {\n      return;\n    }\n\n    const card = e.target.closest(`.${component.baseClass}`);\n    const deleter = card.querySelector(`.${component.getDeleterElement().baseClass}`);\n\n    mainApi.removeArticle(deleter.value)\n      .then(\n        () => card.remove(),\n      )\n      .then(\n        () => observer.notify(['refresh', 'card_delete']),\n      )\n      .catch(\n        errorHandler(app, context, component),\n      );\n  },\n);\n","import block from '../../blocks/card/card';\nimport { bookmarkHandler } from '../handlers/card';\n\nexport default ({ CardComponent }, app) => {\n  const props = { name: 'newsCard', block };\n  const handlers = [\n    (_, component) => component._setElements([]),\n    bookmarkHandler(app),\n  ];\n\n  const cardComponent = new CardComponent(props, handlers);\n\n  cardComponent.addElement(\n    cardComponent.getBookmarkElement(),\n  );\n  cardComponent.addElement(\n    cardComponent.getTooltipElement().setProps({\n      logged: !!app.get('mainApi').getToken(),\n    }),\n  );\n\n  return cardComponent;\n};\n","import template from './popup__link.html';\n\nexport default {\n  baseClass: 'popup__link',\n  template,\n  options: {\n    required: [\n      'href',\n      'text',\n    ],\n    defaults: {\n      className: 'popup__link-to',\n    },\n  },\n};\n","import template from './popup__subtext.html';\n\nexport default {\n  baseClass: 'popup__subtext',\n  template,\n  options: {\n    required: [\n      'text',\n    ],\n    defaults: {\n      link: () => '',\n    },\n  },\n};\n","import template from './popup.html';\nimport link from './__link/popup__link';\nimport subtext from './__subtext/popup__subtext';\n\nexport default {\n  baseClass: 'popup',\n  template,\n  options: {\n    required: [\n      'title',\n    ],\n    defaults: {\n      content: () => '',\n      element: () => '',\n    },\n  },\n  elements: {\n    link,\n    subtext,\n  },\n};\n","import block from '../../blocks/popup/popup';\nimport { popups } from '../config';\n\nexport default ({ PopupComponent }) => {\n  const props = { name: 'popup', block, popups };\n  const handlers = [];\n\n  return new PopupComponent(props, handlers);\n};\n","import template from './popup-form__field.html';\n\nexport default {\n  baseClass: 'popup-form__field',\n  template,\n  options: {\n    required: [\n      'form',\n      'fieldName',\n      'fieldLabel',\n      'fieldType',\n      'placeholder',\n    ],\n    defaults: {\n      pattern: '',\n      required: '',\n      minlength: '',\n      maxlength: '',\n    },\n  },\n};\n","import template from './popup-form.html';\nimport field from './__field/popup-form__field';\n\nexport default {\n  baseClass: 'popup-form',\n  template,\n  options: {\n    required: [\n      'elements',\n      'buttonText',\n    ],\n    defaults: {\n      formError: '',\n    },\n  },\n  elements: {\n    field,\n  },\n};\n","import block from '../../blocks/popup-form/popup-form';\nimport { forms } from '../config';\n\nexport default ({ FormComponent }) => {\n  const props = { name: 'popupForm', block, forms };\n  const handlers = [];\n\n  return new FormComponent(props, handlers);\n};\n","import { logger } from '../../utils';\n\nexport default (_, context, component) => (err) => (\n  err.json\n    ? err.json().then(\n      (res) => (\n        res\n          ? component.clear(context)\n            .then(\n              () => component.render({\n                context: context.querySelector('.popup__title'),\n                position: component.constructor.RENDER_AFTER,\n                formError: res.message ? res.message : res,\n              }),\n            )\n          : res\n      ),\n    )\n    : logger(err, logger.ERROR)\n);\n","import errorHandler from './error';\nimport { delegate, observer } from '../../utils';\n\nexport default (app) => (context, component) => delegate(\n  context,\n  'form',\n  'submit',\n  (e) => {\n    e.preventDefault();\n\n    const {\n      elements: {\n        email: {\n          value: email,\n        },\n        password: {\n          value: password,\n        },\n      },\n    } = e.target;\n\n    component.setValues({\n      email,\n      password,\n    });\n\n    const {\n      component: popupFormSignIn,\n    } = app.get('popupFormSignIn');\n\n    const mainApi = app.get('mainApi');\n    // Sign In process...\n    mainApi\n      .signin(email, password)\n      .then(\n        () => mainApi.getUserData(),\n      )\n      .then(\n        (user) => {\n          observer.notify(['signin', 'refresh'], user);\n          // Close popup\n          component.setValues();\n          popupFormSignIn.clear();\n        },\n      )\n      .catch(\n        errorHandler(app, context, component),\n      )\n      .then(\n        () => component.handle(context),\n      );\n  },\n);\n","import errorHandler from './error';\nimport toggleHandler from '../popup/toggle';\nimport { delegate } from '../../utils';\n\nexport default (app) => (context, component) => delegate(\n  context,\n  'form',\n  'submit',\n  (e) => {\n    e.preventDefault();\n\n    const {\n      elements: {\n        email: {\n          value: email,\n        },\n        password: {\n          value: password,\n        },\n        name: {\n          value: name,\n        },\n      },\n    } = e.target;\n\n    component.setValues({\n      email,\n      password,\n      name,\n    });\n\n    const {\n      component: popupFormSignUp,\n    } = app.get('popupFormSignUp');\n\n    const mainApi = app.get('mainApi');\n    // Sign Up process...\n    mainApi\n      .signup(email, password, name)\n      .then(\n        () => {\n          component.setValues();\n\n          return popupFormSignUp.clear(popupFormSignUp.context);\n        },\n      )\n      .then(\n        () => {\n          // Create sign up success popup\n          const { component: popupComponent } = app.create('popup', {\n            type: 'success',\n          }, [\n            toggleHandler(app, 'popupFormSignIn'),\n          ]);\n\n          popupComponent.render({\n            context: popupFormSignUp.context,\n          })\n            .then(\n              (ctx) => popupComponent.handle(ctx),\n            );\n        },\n      )\n      .catch(\n        errorHandler(app, context, component),\n      )\n      .then(\n        () => component.handle(context),\n      );\n  },\n);\n","import { toggleHandler } from '../handlers/popup';\nimport { signinHandler } from '../handlers/popup-form';\n\nexport default ({ ProxyComponent }, app) => (\n  new ProxyComponent({\n    name: 'popupFormSignIn',\n    context: document.querySelector('.page'),\n    factory: () => {\n      const { component: popupFormComponent } = app.create('popupForm', {\n        type: 'signin',\n      }, [\n        signinHandler(app),\n      ]);\n\n      const { component: popupComponent } = app.create('popup', {\n        type: 'signin',\n        content: () => popupFormComponent.toHtml(),\n      }, [\n        // Handle sub-components\n        (context) => popupFormComponent.setValues().handle(\n          context.querySelector(`.${popupComponent.baseClass}`),\n        ),\n        toggleHandler(app, 'popupFormSignUp'),\n      ]);\n\n      return popupComponent;\n    },\n  })\n);\n","import { toggleHandler } from '../handlers/popup';\nimport { signupHandler } from '../handlers/popup-form';\n\nexport default ({ ProxyComponent }, app) => (\n  new ProxyComponent({\n    name: 'popupFormSignUp',\n    context: document.querySelector('.page'),\n    factory: () => {\n      const { component: popupFormComponent } = app.create('popupForm', {\n        type: 'signup',\n      }, [\n        signupHandler(app),\n      ]);\n\n      // Create sign up form popup\n      const { component: popupComponent } = app.create('popup', {\n        type: 'signup',\n        content: () => popupFormComponent.toHtml(),\n      }, [\n        // Handle sub-components\n        (context) => popupFormComponent.setValues().handle(\n          context.querySelector(`.${popupComponent.baseClass}`),\n        ),\n        toggleHandler(app, 'popupFormSignIn'),\n      ]);\n\n      return popupComponent;\n    },\n  })\n);\n","import block from '../../blocks/card/card';\nimport { deleteHandler } from '../handlers/card';\n\nexport default ({ CardComponent }, app) => {\n  const props = { name: 'savedCard', block };\n  const handlers = [\n    (_, component) => component._setElements([]),\n    deleteHandler(app),\n  ];\n\n  const cardComponent = new CardComponent(props, handlers);\n\n  cardComponent.addElement(\n    cardComponent.getKeywordElement(),\n  );\n  cardComponent.addElement(\n    cardComponent.getDeleterElement(),\n  );\n  cardComponent.addElement(\n    cardComponent.getTooltipElement().setProps({\n      logged: !!app.get('mainApi').getToken(),\n      text: () => 'BLOCK_TOOLTIP_DROP',\n    }),\n  );\n\n  return cardComponent;\n};\n","import template from './results__title.html';\n\nexport default {\n  baseClass: 'results__title',\n  template,\n  options: {\n    required: [\n      'title',\n    ],\n  },\n};\n","import template from './results__loading.html';\n\nexport default {\n  baseClass: 'results__loading',\n  template,\n  options: {\n    required: [\n      'subtitle',\n    ],\n  },\n};\n","export default __webpack_public_path__ + \"images/results__no-results.5bfe873d4dfc83452a2788700dd92bb5.png\";","import template from './results__no-results.html';\nimport image from './results__no-results.png';\n\nexport default {\n  baseClass: 'results__no-results',\n  template,\n  options: {\n    required: [\n      'title',\n      'subtitle',\n    ],\n    defaults: {\n      image,\n    },\n  },\n};\n","import template from './results__button.html';\n\nexport default {\n  baseClass: 'results__button',\n  template,\n  options: {\n    required: [\n      'label',\n    ],\n  },\n};\n","import template from './results.html';\nimport header from './__title/results__title';\nimport loading from './__loading/results__loading';\nimport noResults from './__no-results/results__no-results';\nimport button from './__button/results__button';\n\nexport default {\n  baseClass: 'results',\n  template,\n  options: {\n    required: [\n      'title',\n    ],\n    defaults: {\n      header: () => '',\n      content: () => '',\n      element: () => '',\n    },\n  },\n  elements: {\n    header,\n    loading,\n    noResults,\n    button,\n  },\n};\n","import { errorHandler } from '../popup';\n\nexport default (app, Article) => (context, component) => (\n  app.create('userData').then(\n    ({ articles }) => articles.map(\n      (article) => new Article(article),\n    ),\n  )\n    .then(\n      (articles) => component.clear(context)\n        .then(\n          () => {\n            component.setProps({\n              title: '',\n              results: articles,\n            });\n\n            return component.renderResults({\n              context,\n              position: component.constructor.RENDER_APPEND,\n            });\n          },\n        ),\n    )\n    .catch(\n      errorHandler(app, context, component),\n    )\n);\n","import { delegate } from '../../utils';\n\nexport default (app, Article, cardType) => (context, component) => delegate(\n  context,\n  'results__button',\n  'click',\n  (e) => {\n    e.preventDefault();\n\n    const { results = [], showMore: { limit } } = component.getProps();\n    const sliced = results.splice(0, limit);\n    if (!sliced.length) {\n      return;\n    }\n\n    if (!results.length) {\n      e.target.remove();\n    }\n\n    const { component: cardListComponent } = app.get('cardList');\n\n    sliced.forEach(\n      (item) => {\n        const { component: cardComponent } = app.create(cardType, {\n          article: new Article(item),\n        });\n\n        cardListComponent.addCard(cardComponent);\n      },\n    );\n\n    cardListComponent.renderCards({\n      context,\n      shift: limit,\n    });\n  },\n);\n","import { errorHandler } from '../popup';\nimport { observer } from '../../utils';\n\nexport default (app, Article) => (context, component) => {\n  const reloadList = ({ articles = [] }) => (\n    component.clear(context).then(\n      () => {\n        component.setProps({\n          title: '',\n          results: articles.map(\n            (article) => new Article(article),\n          ),\n        });\n\n        return component.renderResults({\n          context,\n          position: component.constructor.RENDER_APPEND,\n        });\n      },\n    )\n      .catch(\n        errorHandler(app, context, component),\n      )\n  );\n\n  observer.subscribe(\n    [\n      'signin',\n      'logout',\n    ],\n    reloadList,\n  );\n\n  observer.subscribe(\n    'refresh',\n    () => app.create('userData').then(\n      reloadList,\n    )\n      .catch(\n        errorHandler(app, context, component),\n      ),\n  );\n};\n","export { default as loadListHandler } from './load-list';\nexport { default as showMoreHandler } from './show-more';\nexport { default as subscribeHandler } from './subscribe';\n\nexport default (app, Article, cardType) => (_, component) => component.setProps({\n  content: () => {\n    const { results = [], showMore: { limit } } = component.getProps();\n    const sliced = results.splice(0, limit);\n\n    if (!sliced.length) {\n      return '';\n    }\n\n    const { component: cardListComponent } = app.get('cardList');\n\n    cardListComponent.clearCards();\n\n    sliced.forEach(\n      (item) => {\n        const { component: cardComponent } = app.create(cardType, {\n          article: new Article(item),\n        });\n\n        cardListComponent.addCard(cardComponent);\n      },\n    );\n\n    return cardListComponent.toHtml();\n  },\n});\n","import block from '../../blocks/results/results';\nimport { BaseArticle } from '../models';\nimport { results as config } from '../config';\nimport setPropsHandler, {\n  loadListHandler,\n  showMoreHandler,\n  subscribeHandler,\n} from '../handlers/results';\n\nexport default ({ ResultsComponent }, app) => {\n  const props = { name: 'savedResults', block, ...config };\n  const handlers = [\n    setPropsHandler(app, BaseArticle, 'savedCard'),\n    showMoreHandler(app, BaseArticle, 'savedCard'),\n    loadListHandler(app, BaseArticle),\n    subscribeHandler(app, BaseArticle),\n    (context) => {\n      const { component: cardComponent } = app.get('savedCard');\n\n      cardComponent.handle(context);\n    },\n  ];\n\n  return new ResultsComponent(props, handlers);\n};\n","import template from './search-form.html';\n\nexport default {\n  baseClass: 'search-form',\n  template,\n  options: {\n    required: [\n      'placeholder',\n      'buttonText',\n    ],\n    defaults: {\n      fieldName: 'search',\n    },\n  },\n};\n","import { BaseArticle, NewsArticle } from '../../models';\nimport { delegate } from '../../utils';\nimport { errorHandler } from '../popup';\n\nexport default (app) => (context, component) => delegate(\n  context,\n  'form',\n  'submit',\n  (e) => {\n    e.preventDefault();\n\n    const {\n      component: resultsComponent,\n      context: resultsContext,\n    } = app.get('searchResults');\n\n    if (!component.getQuery()) {\n      return resultsComponent.clear(resultsContext);\n    }\n\n    const mainApi = app.get('mainApi');\n    const newsApi = app.get('newsApi');\n\n    return resultsComponent.clear(resultsContext)\n      .then(\n        () => resultsComponent.renderLoading({\n          context: resultsContext,\n          position: resultsComponent.constructor.RENDER_PREPEND,\n        }),\n      )\n      .then(\n        () => Promise.all([\n          newsApi.getNews({\n            q: component.getQuery(),\n          }).then(\n            ({ articles }) => articles.map(\n              (article) => new NewsArticle({\n                ...article,\n                keyword: component.getQuery(),\n              }),\n            ),\n          ),\n          Promise.resolve(\n            mainApi.getToken()\n              ? mainApi.getArticles()\n              : [],\n          ).then(\n            (articles) => articles.map(\n              (article) => new BaseArticle(article),\n            ),\n          ).catch(\n            () => [],\n          ),\n        ]),\n      )\n      .then(\n        ([newsArticles, baseArticles]) => newsArticles.map(\n          (newsArticle) => {\n            const baseArticle = baseArticles.find(\n              (ba) => newsArticle.equals(ba),\n            );\n\n            return !baseArticle ? newsArticle : baseArticle;\n          },\n        ),\n      )\n      .then(\n        (articles) => resultsComponent.clear(resultsContext)\n          .then(\n            () => {\n              resultsComponent.setProps({\n                results: articles,\n              });\n\n              if (!articles.length) {\n                return resultsComponent.renderNoResults({\n                  context: resultsContext,\n                  position: resultsComponent.constructor.RENDER_PREPEND,\n                });\n              }\n\n              return resultsComponent.renderResults({\n                context: resultsContext,\n                position: resultsComponent.constructor.RENDER_PREPEND,\n              });\n            },\n          ),\n      )\n      .then(\n        () => resultsComponent.handle(resultsContext),\n      )\n      .catch(\n        errorHandler(app, context, component),\n      );\n  },\n);\n","import block from '../../blocks/search-form/search-form';\nimport {\n  searchHandler,\n  subscribeHandler,\n} from '../handlers/search-form';\n\nexport default ({ SearchFormComponent }, app) => {\n  const props = {\n    name: 'searchForm',\n    block,\n    placeholder: 'BLOCK_SEARCH_FORM_INPUT_PLACEHOLDER',\n    buttonText: 'BLOCK_SEARCH_FORM_BUTTON_TEXT',\n  };\n  const handlers = [\n    searchHandler(app),\n    subscribeHandler(),\n  ];\n\n  return new SearchFormComponent(props, handlers);\n};\n","import { observer } from '../../utils';\n\nexport default () => (_, component) => {\n  observer.subscribe(\n    [\n      'signin',\n      'logout',\n    ],\n    () => component.search(),\n  );\n};\n","import template from './search-info__subtitle.html';\n\nexport default {\n  baseClass: 'search-info__subtitle',\n  template,\n  options: {\n    required: [\n      'text',\n    ],\n  },\n};\n","import template from './search-info.html';\nimport subtitle from './__subtitle/search-info__subtitle';\n\nexport default {\n  baseClass: 'search-info',\n  template,\n  options: {\n    required: [\n      'heading',\n    ],\n    defaults: {\n      title: '',\n      subtitle: '',\n    },\n  },\n  elements: {\n    subtitle,\n  },\n};\n","import { errorHandler } from '../popup';\nimport { observer, translate } from '../../utils';\n\nexport default (app) => (context, component) => {\n  const render = ({ name = 'Anonymous', articles = [] }) => {\n    component.setProps({\n      title: {\n        toString() {\n          return translate('BLOCK_SEARCH_INFO_ARTICLES_COUNT', {\n            name,\n            count: articles.length,\n          });\n        },\n      },\n      subtitle: {\n        toString() {\n          if (!articles.length) {\n            return '';\n          }\n\n          const counters = articles.reduce(\n            (keywords, article) => {\n              const counter = keywords[article.keyword] ? keywords[article.keyword] : 0;\n\n              return {\n                ...keywords,\n                [article.keyword]: counter + 1,\n              };\n            },\n            {},\n          );\n          const keywords = Object.keys(counters).sort(\n            (a, b) => counters[a] - counters[b],\n          );\n\n          return translate('BLOCK_SEARCH_INFO_BY_KEYWORDS', {\n            keywords: component.keywordsToHtml({ keywords }),\n          });\n        },\n      },\n    });\n\n    return component.clear(context).then(\n      () => component.render({\n        context,\n        position: component.constructor.RENDER_PREPEND,\n      }),\n    );\n  };\n\n  observer.subscribe(\n    [\n      'signin',\n      'logout',\n    ],\n    render,\n  );\n\n  observer.subscribe(\n    'refresh',\n    () => app.create('userData').then(render)\n      .catch(\n        errorHandler(app, context, component),\n      ),\n  );\n\n  return app.create('userData').then(render)\n    .catch(\n      errorHandler(app, context, component),\n    );\n};\n","import block from '../../blocks/search-info/search-info';\nimport renderHandler from '../handlers/search-info';\n\nexport default ({ SearchInfoComponent }, app) => {\n  const props = {\n    name: 'searchInfo',\n    block,\n    heading: 'BLOCK_SEARCH_INFO_SAVED_ARTICLES',\n  };\n  const handlers = [\n    renderHandler(app),\n  ];\n\n  return new SearchInfoComponent(props, handlers);\n};\n","import block from '../../blocks/results/results';\nimport { NewsArticle } from '../models';\nimport { results as config } from '../config';\nimport setPropsHandler, { showMoreHandler } from '../handlers/results';\n\nexport default ({ ResultsComponent }, app) => {\n  const props = { name: 'searchResults', block, ...config };\n  const handlers = [\n    setPropsHandler(app, NewsArticle, 'newsCard'),\n    showMoreHandler(app, NewsArticle, 'newsCard'),\n    (context) => {\n      const { component: cardComponent } = app.get('newsCard');\n\n      cardComponent.handle(context);\n    },\n  ];\n\n  return new ResultsComponent(props, handlers);\n};\n","import template from './search.html';\n\nexport default {\n  baseClass: 'search',\n  template,\n  options: {\n    required: [\n      'title',\n      'subtitle',\n    ],\n    defaults: {\n      content: '',\n    },\n  },\n};\n","import block from '../../blocks/search/search';\n\nexport default ({ BlockComponent }) => {\n  const props = {\n    name: 'search',\n    block,\n    title: 'BLOCK_SEARCH_TITLE',\n    subtitle: 'BLOCK_SEARCH_SUBTITLE',\n  };\n  const handlers = [];\n\n  return new BlockComponent(props, handlers);\n};\n","import * as utils from '../utils';\n\nexport default class BaseComponent {\n  constructor(props = {}, handlers = [], elements = []) {\n    this.setProps(props);\n    this._setHandlers(handlers);\n    this._setElements(elements);\n  }\n\n  get name() {\n    return this._props.name || this.constructor.name;\n  }\n\n  async render({ context, position = BaseComponent.RENDER_APPEND, ...props }) {\n    if (context) {\n      const document = context.ownerDocument;\n      const template = document.createElement('template');\n\n      template.innerHTML = this.toHtml(props);\n\n      const { content } = template;\n\n      this._setElements(\n        [...content.children],\n      );\n\n      context[position].call(context, template.content);\n    }\n\n    return context;\n  }\n\n  async handle(context) {\n    if (context) {\n      await Promise.all(\n        [\n          ...this.getDefaultHandlers(),\n          ...this._handlers,\n        ].map(\n          (handler) => handler.call(this, context, this),\n        ),\n      );\n    }\n\n    return context;\n  }\n\n  async clear() {\n    await Promise.all(\n      this._elements.map(\n        (element) => (async () => element.remove())(),\n      ),\n    );\n\n    this._elements = [];\n  }\n\n  isRendered() {\n    return this._elements.length > 0;\n  }\n\n  hasHandlers() {\n    return this._handlers.length > 0;\n  }\n\n  toHtml(props = {}) {\n    const mergedProps = {\n      ...this.getProps(),\n      ...props,\n    };\n\n    this._checkProps(mergedProps);\n\n    return utils.template(this.getTemplate())(mergedProps);\n  }\n\n  getRequired() {\n    return this._required || [];\n  }\n\n  getDefaults() {\n    return {\n      ...(this._defaults || {}),\n      ...utils,\n    };\n  }\n\n  getTemplate() {\n    const { template = '' } = this.getProps();\n\n    return template;\n  }\n\n  getProps() {\n    return {\n      ...this.getDefaults(),\n      ...this._props,\n    };\n  }\n\n  setProps(props = {}) {\n    this._props = {\n      ...(this._props || {}),\n      ...props,\n    };\n\n    return this;\n  }\n\n  getDefaultHandlers() {\n    return this._defaultHandlers || [];\n  }\n\n  _setHandlers(handlers = []) {\n    this._handlers = handlers;\n\n    return this;\n  }\n\n  _setElements(elements = []) {\n    this._elements = elements;\n\n    return this;\n  }\n\n  _checkProps(props = {}) {\n    this.getRequired().forEach(\n      (field) => {\n        if (!(field in props)) {\n          throw new Error(\n            utils.translate('COMPONENT_ERROR_PROPERTY_IS_REQUIRED', {\n              field,\n              component: this.toString(),\n            }),\n          );\n        }\n      },\n    );\n  }\n\n  toString() {\n    return this.name;\n  }\n}\n\nBaseComponent.RENDER_APPEND = 'append';\nBaseComponent.RENDER_PREPEND = 'prepend';\nBaseComponent.RENDER_BEFORE = 'before';\nBaseComponent.RENDER_AFTER = 'after';\nBaseComponent.RENDER_REPLACE = 'replaceWith';\n","import BaseComponent from './BaseComponent';\n\nexport default class BlockComponent extends BaseComponent {\n  constructor(\n    { block, ...props },\n    handlers = [],\n    elements = [],\n  ) {\n    super(props, handlers, elements);\n    this._block = block;\n  }\n\n  get baseClass() {\n    return this._block.baseClass;\n  }\n\n  getRequired() {\n    const { required = [] } = this._block.options || {};\n\n    return [\n      ...super.getRequired(),\n      ...required,\n    ];\n  }\n\n  getDefaults() {\n    const { defaults = {} } = this._block.options || {};\n\n    return {\n      ...super.getDefaults(),\n      ...defaults,\n    };\n  }\n\n  getDefaultHandlers() {\n    return [\n      ...super.getDefaultHandlers(),\n      (context) => {\n        if (context && !this.isRendered()) {\n          this._setElements([\n            ...context.querySelectorAll(`.${this.baseClass}`),\n          ]);\n        }\n      },\n    ];\n  }\n\n  async clear(context) {\n    await super.clear();\n\n    if (context) {\n      const elements = [\n        ...context.querySelectorAll(`.${this.baseClass}`),\n      ];\n      elements.forEach(\n        (element) => element.remove(),\n      );\n    }\n\n    return context;\n  }\n\n  getTemplate() {\n    return this._block.template;\n  }\n\n  createElement(name, props = {}, ...args) {\n    const {\n      elements: {\n        [name]: element,\n      },\n    } = this._block;\n\n    return new BlockComponent(\n      {\n        block: element,\n        ...props,\n        name,\n      },\n      ...args,\n    );\n  }\n}\n","import BlockComponent from './BlockComponent';\n\nexport default class CardComponent extends BlockComponent {\n  constructor(...args) {\n    super(...args);\n    this._elementComponents = [];\n  }\n\n  addElement(element) {\n    this._elementComponents.push(element);\n\n    return this;\n  }\n\n  clearElements() {\n    this._elementComponents.forEach(\n      (element) => element.clear(),\n    );\n    this._elementComponents = [];\n\n    return this;\n  }\n\n  toHtml(props = {}) {\n    return super.toHtml({\n      ...props,\n      elements: () => (\n        this._elementComponents.map(\n          (element) => element.toHtml({\n            ...props,\n            ...this.getProps(),\n          }),\n        ).join('')\n      ),\n    });\n  }\n\n  getBookmarkElement() {\n    if (!('bookmarkElement' in this)) {\n      this.bookmarkElement = this.createElement('bookmark');\n    }\n\n    return this.bookmarkElement;\n  }\n\n  getTooltipElement() {\n    if (!('tooltipElement' in this)) {\n      this.tooltipElement = this.createElement('tooltip', {\n        text: (article, logged = false) => {\n          if (!logged) {\n            return 'BLOCK_TOOLTIP_UNAUTHORIZED';\n          }\n\n          return article.id ? 'BLOCK_TOOLTIP_DROP' : 'BLOCK_TOOLTIP_SAVE';\n        },\n      });\n    }\n\n    return this.tooltipElement;\n  }\n\n  getDeleterElement() {\n    if (!('deleterElement' in this)) {\n      this.deleterElement = this.createElement('deleter');\n    }\n\n    return this.deleterElement;\n  }\n\n  getKeywordElement() {\n    if (!('keywordElement' in this)) {\n      this.keywordElement = this.createElement('keyword');\n    }\n\n    return this.keywordElement;\n  }\n}\n","import BlockComponent from './BlockComponent';\n\nexport default class CardListComponent extends BlockComponent {\n  constructor(...args) {\n    super(...args);\n    this._cards = [];\n  }\n\n  addCard(card) {\n    this._cards.push(card);\n\n    return this;\n  }\n\n  clearCards() {\n    this._cards.forEach(\n      (card) => {\n        if (card.isRendered()) {\n          card.clear();\n        }\n      },\n    );\n    this._cards = [];\n\n    return this;\n  }\n\n  clear(context) {\n    this.clearCards();\n\n    return super.clear(context);\n  }\n\n  toHtml(props = {}) {\n    return super.toHtml({\n      ...props,\n      cards: () => (\n        this._cards.map(\n          (card) => card.toHtml(),\n        ).join('')\n      ),\n    });\n  }\n\n  renderCards({ context, shift = 0 }) {\n    this._cards.slice(shift).forEach(\n      (card) => {\n        if (!card.isRendered()) {\n          card.render({\n            context: context.querySelector(`.${this.baseClass}`),\n            position: card.constructor.RENDER_APPEND,\n          });\n        }\n      },\n    );\n  }\n}\n","import BlockComponent from './BlockComponent';\n\nexport default class FooterComponent extends BlockComponent {\n  toHtml(props = {}) {\n    const { navigations } = this.getProps();\n    const { footer, social } = navigations;\n    const renderLinks = (navigation, element) => (\n      Object.keys(navigation).map(\n        (key) => this.createElement(\n          element,\n          navigation[key],\n        ).toHtml(),\n      ).join('')\n    );\n\n    return super.toHtml({\n      ...props,\n      footerLinks: () => renderLinks(footer, 'footerLink'),\n      socialLinks: () => renderLinks(social, 'socialLink'),\n    });\n  }\n}\n","import BlockComponent from './BlockComponent';\nimport { delegate } from '../utils';\n\nexport default class FormComponent extends BlockComponent {\n  getRequired() {\n    return [\n      ...super.getRequired(),\n      'type',\n    ];\n  }\n\n  getValues() {\n    return this._values || {};\n  }\n\n  setValues(values = {}) {\n    this._values = values;\n\n    return this;\n  }\n\n  activateForm(context) {\n    const formElement = context.querySelector(`.${this.baseClass}`);\n    const formButton = formElement.querySelector('.form__button');\n    const formFields = [\n      ...formElement.querySelectorAll('.form__input'),\n    ];\n    const isFullFilled = formFields.reduce(\n      (acc, el) => (acc && el.validity.valid),\n      true,\n    );\n\n    if (!isFullFilled) {\n      formButton.setAttribute('disabled', true);\n    } else {\n      formButton.removeAttribute('disabled');\n    }\n  }\n\n  populateForm(context) {\n    const elements = [\n      ...context.querySelectorAll('.form__input'),\n    ];\n    const values = this.getValues();\n\n    elements.forEach(\n      (element) => {\n        if (element.name in values) {\n          // eslint-disable-next-line no-param-reassign\n          element.value = values[element.name];\n        }\n      },\n    );\n  }\n\n  getDefaultHandlers() {\n    return [\n      ...super.getDefaultHandlers(),\n      (context) => this.populateForm(context),\n      (context) => this.activateForm(context),\n      (context) => delegate(\n        context,\n        'form__input',\n        'input',\n        () => this.activateForm(context),\n      ),\n    ];\n  }\n\n  toHtml(props = {}) {\n    const { type, forms } = this.getProps();\n    const {\n      title,\n      buttonText,\n      linkToText,\n      fields,\n    } = forms[type];\n\n    return super.toHtml({\n      ...props,\n      title,\n      buttonText,\n      linkToText,\n      elements: () => (\n        Object.keys(fields).map(\n          (fieldName) => (\n            this.createElement('field', {\n              form: type,\n              fieldName,\n              ...fields[fieldName],\n            }).toHtml()\n          ),\n        ).join('')\n      ),\n    });\n  }\n}\n","import BlockComponent from './BlockComponent';\nimport { delegate } from '../utils';\n\nexport default class HeaderComponent extends BlockComponent {\n  getDefaults() {\n    return {\n      ...super.getDefaults(),\n      loggedIn: false,\n      userName: '',\n      theme: 'light',\n      publicUrl: process.env.PUBLIC_PATH,\n      page: 'index',\n      togglerClass: 'header__menu-toggler',\n      toggledClass: 'header_expanded',\n    };\n  }\n\n  getDefaultHandlers() {\n    return [\n      ...super.getDefaultHandlers(),\n      (context, component) => delegate(\n        context,\n        component.getProps().togglerClass,\n        'click',\n        () => {\n          const header = context.querySelector(`.${component.baseClass}`);\n          header.classList.toggle(\n            component.getProps().toggledClass,\n          );\n        },\n      ),\n    ];\n  }\n\n  toHtml(props = {}) {\n    const {\n      loggedIn = false,\n      userName = '',\n      navigations,\n      theme,\n      page,\n    } = this.getProps();\n    const navigation = loggedIn\n      ? navigations.logged\n      : navigations.index;\n\n    return super.toHtml({\n      theme,\n      ...props,\n      navigation: () => (\n        Object.keys(navigation).map(\n          (key) => {\n            const navItem = navigation[key];\n            const element = this.createElement(\n              navItem.type,\n              {\n                ...navItem,\n                innerText: userName,\n                active: (key === page),\n              },\n            );\n\n            return element.toHtml();\n          },\n        ).join('')\n      ),\n    });\n  }\n}\n","import BaseComponent from './BaseComponent';\n\nexport default class ProxyComponent extends BaseComponent {\n  constructor(\n    { factory, context = null, ...props },\n    handlers = [],\n    elements = [],\n  ) {\n    super(props, handlers, elements);\n\n    this._factory = factory;\n    this._context = context;\n  }\n\n  get component() {\n    if (!this._component) {\n      this._component = this._factory(\n        this._props,\n        this._handlers,\n        this._elements,\n      );\n    }\n\n    return this._component;\n  }\n\n  get context() {\n    if (typeof this._context === 'function') {\n      this._context = this._context.call(this);\n    }\n\n    return this._context;\n  }\n\n  async render(props) {\n    const context = await this.component.render({\n      ...(this.context ? { context: this.context } : {}),\n      ...props,\n    });\n\n    return context;\n  }\n\n  handle(context) {\n    return this.component.handle(context || this.context);\n  }\n\n  async clear() {\n    await this.component.clear();\n  }\n\n  toHtml(props = {}) {\n    return this.component.toHtml(props);\n  }\n\n  getRequired() {\n    return this.component.getRequired();\n  }\n\n  getDefaults() {\n    return this.component.getDefaults();\n  }\n\n  getTemplate() {\n    return this.component.getTemplate();\n  }\n\n  getProps() {\n    return this.component.getProps();\n  }\n\n  getDefaultHandlers() {\n    return this.component.getDefaultHandlers();\n  }\n}\n","import BlockComponent from './BlockComponent';\nimport { delegate } from '../utils';\n\nexport default class PopupComponent extends BlockComponent {\n  getRequired() {\n    return [\n      ...super.getRequired(),\n      'type',\n    ];\n  }\n\n  getDefaults() {\n    return {\n      ...super.getDefaults(),\n      closeBtnClass: 'popup__close-button',\n    };\n  }\n\n  getDefaultHandlers() {\n    return [\n      ...super.getDefaultHandlers(),\n      (context, component) => delegate(\n        context,\n        component.getProps().closeBtnClass,\n        'click',\n        () => component.clear(),\n        { once: true },\n      ),\n    ];\n  }\n\n  getSubtextElement() {\n    if (!('subtextElement' in this)) {\n      this.subtextElement = this.createElement('subtext');\n    }\n\n    return this.subtextElement;\n  }\n\n  getLinkElement() {\n    if (!('linkElement' in this)) {\n      this.linkElement = this.createElement('link');\n    }\n\n    return this.linkElement;\n  }\n\n  toHtml(props = {}) {\n    const { type, popups } = this.getProps();\n    const {\n      title,\n      text = '',\n      link = '',\n    } = popups[type];\n\n    return super.toHtml({\n      ...props,\n      title,\n      element: () => this.getSubtextElement().toHtml({\n        text,\n        link: () => this.getLinkElement().toHtml({\n          text: link,\n          href: '#',\n        }),\n      }),\n    });\n  }\n}\n","import BlockComponent from './BlockComponent';\n\nexport default class ResultsComponent extends BlockComponent {\n  getLoadingElement() {\n    if (!('loadingElement' in this)) {\n      this.loadingElement = this.createElement('loading');\n    }\n\n    return this.loadingElement;\n  }\n\n  renderLoading(props) {\n    const loadingElement = this.getLoadingElement();\n    const { loading } = this.getProps();\n\n    return this.render({\n      ...props,\n      header: () => '',\n      content: () => '',\n      element: () => loadingElement.toHtml({\n        ...loading,\n        ...props,\n      }),\n    });\n  }\n\n  getNoResultsElement() {\n    if (!('noResultsElement' in this)) {\n      this.noResultsElement = this.createElement('noResults');\n    }\n\n    return this.noResultsElement;\n  }\n\n  renderNoResults(props) {\n    const noResultsElement = this.getNoResultsElement();\n    const { noResults } = this.getProps();\n\n    return this.render({\n      ...props,\n      header: () => '',\n      content: () => '',\n      element: () => noResultsElement.toHtml({\n        ...noResults,\n        ...props,\n      }),\n    });\n  }\n\n  getHeaderElement() {\n    if (!('headerElement' in this)) {\n      this.headerElement = this.createElement('header');\n    }\n\n    return this.headerElement;\n  }\n\n  getButtonElement() {\n    if (!('buttonElement' in this)) {\n      this.buttonElement = this.createElement('button');\n    }\n\n    return this.buttonElement;\n  }\n\n  renderResults(props) {\n    const headerElement = this.getHeaderElement();\n    const buttonElement = this.getButtonElement();\n    const { results = [], showMore, title } = {\n      ...this.getProps(),\n      ...props,\n    };\n    const resultsCount = results.length;\n\n    return this.render({\n      ...props,\n      header: () => (\n        title\n          ? headerElement.toHtml({\n            title,\n          })\n          : ''\n      ),\n      element: () => (\n        resultsCount > showMore.limit\n          ? buttonElement.toHtml({\n            ...showMore,\n            ...props,\n          })\n          : ''\n      ),\n    });\n  }\n}\n","import BlockComponent from './BlockComponent';\n\nexport default class SearchFormComponent extends BlockComponent {\n  getDefaultHandlers() {\n    return [\n      ...super.getDefaultHandlers(),\n      (context, component) => {\n        const formElement = context.querySelector('form');\n        const { fieldName } = this.getProps();\n        const fieldElement = formElement.elements[fieldName];\n\n        component.setProps({\n          formElement,\n          fieldElement,\n        });\n      },\n    ];\n  }\n\n  getQuery() {\n    const { fieldElement: { value } } = this.getProps();\n\n    return value;\n  }\n\n  search() {\n    const { formElement } = this.getProps();\n\n    return formElement.requestSubmit();\n  }\n}\n","import BlockComponent from './BlockComponent';\nimport { translate } from '../utils';\n\nexport default class SearchInfoComponent extends BlockComponent {\n  getSubtitleElement() {\n    if (!('subtitleElement' in this)) {\n      this.subtitleElement = this.createElement('subtitle');\n    }\n\n    return this.subtitleElement;\n  }\n\n  keywordsToHtml({ keywords = [], countToShow = 2 }) {\n    return [\n      keywords.slice(0, countToShow).map(\n        (keyword) => this.getSubtitleElement().toHtml({\n          text: keyword.charAt(0).toUpperCase() + keyword.substring(1),\n        }),\n      ).join(', '),\n      keywords.length - countToShow > 0\n        ? this.getSubtitleElement().toHtml({\n          text: translate('BLOCK_SEARCH_INFO_MORE_KEYWORDS', {\n            count: keywords.length - countToShow,\n          }),\n        })\n        : '',\n    ].join(' ');\n  }\n}\n","export default {\n  en: {\n    BLOCK_AUTHOR_TITLE: 'About author',\n    BLOCK_AUTHOR_ABOUT: '<strong>Milyukova Olga Aleksandrovna</strong>, student of <strong>Yandex.Praktikum</strong> on the course <strong>\"Web-developer\"</strong>. I have little experience in programming, but during the training I gained knowledge on the following front-end development technologies: <strong>HTML</strong>, <strong>CSS</strong>, <strong>JavaScript</strong>. And also, I gained knowledge and skills in the backend for technology: <strong>NodeJS</strong>, <strong>Webpack</strong> and others',\n    BLOCK_SEARCH_TITLE: 'What is happening in the World?',\n    BLOCK_SEARCH_SUBTITLE: 'Find the latest articles on any topic and save in your personal account',\n    BLOCK_SEARCH_FORM_INPUT_PLACEHOLDER: 'Enter news topic',\n    BLOCK_SEARCH_FORM_BUTTON_TEXT: 'Search',\n    BLOCK_SEARCH_INFO_SAVED_ARTICLES: 'Saved articles',\n    BLOCK_SEARCH_INFO_ARTICLES_COUNT: '%name%, you have %count% saved articles',\n    BLOCK_SEARCH_INFO_BY_KEYWORDS: 'By keywords: %keywords%',\n    BLOCK_SEARCH_INFO_MORE_KEYWORDS: 'and %count% others',\n    BLOCK_RESULTS_SEARCH_TITLE: 'Search results',\n    BLOCK_RESULTS_LOADING_SUBTITLE: 'Searching',\n    BLOCK_RESULTS_NO_RESULTS_TITLE: 'Not found',\n    BLOCK_RESULTS_NO_RESULTS_SUBTITLE: 'Sorry, nothing found by request',\n    BLOCK_RESULTS_BUTTON_SHOW_MORE: 'Show more',\n    BLOCK_FOOTER_COPYRIGHT: '&copy; 2020 Supersite, Powered by News API',\n    BLOCK_TOOLTIP_UNAUTHORIZED: 'Sign in to save article',\n    BLOCK_TOOLTIP_SAVE: 'Save',\n    BLOCK_TOOLTIP_DROP: 'Drop',\n    FORM_FIELD_MESSAGE: 'Incorrect format %label%',\n    FORM_FIELD_SEARCH_LABEL: 'Search',\n    FORM_FIELD_SEARCH_PLACEHOLDER: 'Enter news topic',\n    FORM_BUTTON_SEARCH: 'Search',\n    FORM_BUTTON_SIGNIN: 'Sign In',\n    FORM_BUTTON_SIGNUP: 'Sign Up',\n    FORM_FIELD_EMAIL_LABEL: 'Email',\n    FORM_FIELD_EMAIL_PLACEHOLDER: 'Enter email',\n    FORM_FIELD_PASSWORD_LABEL: 'Password',\n    FORM_FIELD_PASSWORD_PLACEHOLDER: 'Enter password',\n    FORM_FIELD_NAME_LABEL: 'Name',\n    FORM_FIELD_NAME_PLACEHOLDER: 'Enter your name',\n    FORM_TITLE_SEARCH: 'Search',\n    FORM_TITLE_SIGNIN: 'Sign In',\n    FORM_TITLE_SIGNUP: 'Sign Up',\n    POPUP_FORM_SUBTEXT: 'or %link%',\n    POPUP_SIGNUP_SUCCESS_TITLE: 'User has been registered successfully!',\n    POPUP_SIGNUP_SUCCESS_LINK: 'Sign In',\n    POPUP_SIGNUP_ERROR_TITLE: 'Error',\n    POPUP_SIGNUP_ERROR_LINK: 'Something went wrong :(',\n    COMPONENT_ERROR_TEMPLATE_DIDNT_SETUP: 'Template didn`t setup for component %component%',\n    COMPONENT_ERROR_PROPERTY_IS_REQUIRED: 'Property %field% is required for component %component%',\n    NAVIGATION_DEFAULT_INDEX: 'Home',\n    NAVIGATION_DEFAULT_LOGIN: 'Login',\n    NAVIGATION_LOGGED_INDEX: 'Home',\n    NAVIGATION_LOGGED_SAVED: 'Saved Pages',\n    NAVIGATION_LOGGED_LOGOUT: '%innerText%',\n    NAVIGATION_FOOTER_INDEX: 'Home',\n    NAVIGATION_FOOTER_YANDEX: 'Yandex.Praktikum',\n    NAVIGATION_SOCIAL_GITHUB: 'Github',\n    NAVIGATION_SOCIAL_FACEBOOK: 'Facebook',\n    MONTHS_WITH_POSTFIX: '',\n    // System messages\n    'jwt expired': 'Session is expired. Authorize yourself',\n  },\n  ru: {\n    BLOCK_AUTHOR_TITLE: ' ',\n    BLOCK_AUTHOR_ABOUT: '<strong>  </strong>,  <strong>.</strong>   <strong>\"Web-\"</strong>.     ,          -: <strong>HTML</strong>, <strong>CSS</strong>, <strong>JavaScript</strong>.   ,      -  : <strong>NodeJS</strong>, <strong>Webpack</strong>  ',\n    BLOCK_AUTHOR_NAME: ' ',\n    BLOCK_SEARCH_TITLE: '   ?',\n    BLOCK_SEARCH_SUBTITLE: '            ',\n    BLOCK_SEARCH_FORM_INPUT_PLACEHOLDER: '  ',\n    BLOCK_SEARCH_FORM_BUTTON_TEXT: '',\n    BLOCK_SEARCH_INFO_SAVED_ARTICLES: ' ',\n    BLOCK_SEARCH_INFO_ARTICLES_COUNT: '%name%,   %count%  ',\n    BLOCK_SEARCH_INFO_BY_KEYWORDS: '  : %keywords%',\n    BLOCK_SEARCH_INFO_MORE_KEYWORDS: ' %count% ',\n    BLOCK_RESULTS_SEARCH_TITLE: ' ',\n    BLOCK_RESULTS_LOADING_SUBTITLE: '  ',\n    BLOCK_RESULTS_NO_RESULTS_TITLE: '  ',\n    BLOCK_RESULTS_NO_RESULTS_SUBTITLE: '       ',\n    BLOCK_RESULTS_BUTTON_SHOW_MORE: ' ',\n    BLOCK_FOOTER_COPYRIGHT: '&copy; 2020 Supersite, Powered by News API',\n    BLOCK_TOOLTIP_UNAUTHORIZED: ',   ',\n    BLOCK_TOOLTIP_SAVE: '',\n    BLOCK_TOOLTIP_DROP: '  ',\n    FORM_FIELD_MESSAGE: '  %label%',\n    FORM_FIELD_SEARCH_LABEL: '',\n    FORM_FIELD_SEARCH_PLACEHOLDER: '  ',\n    FORM_BUTTON_SEARCH: '',\n    FORM_BUTTON_SIGNIN: '',\n    FORM_BUTTON_SIGNUP: '',\n    FORM_FIELD_EMAIL_LABEL: 'Email',\n    FORM_FIELD_EMAIL_PLACEHOLDER: ' ',\n    FORM_FIELD_PASSWORD_LABEL: '',\n    FORM_FIELD_PASSWORD_PLACEHOLDER: ' ',\n    FORM_FIELD_NAME_LABEL: '',\n    FORM_FIELD_NAME_PLACEHOLDER: '  ',\n    FORM_TITLE_SEARCH: '',\n    FORM_TITLE_SIGNIN: '',\n    FORM_TITLE_SIGNUP: '',\n    POPUP_FORM_SUBTEXT: ' %link%',\n    POPUP_SIGNUP_SUCCESS_TITLE: '  !',\n    POPUP_SIGNUP_SUCCESS_LINK: ' ',\n    POPUP_SIGNUP_ERROR_TITLE: '',\n    POPUP_SIGNUP_ERROR_LINK: '-    :(',\n    COMPONENT_ERROR_TEMPLATE_DIDNT_SETUP: '      %component%',\n    COMPONENT_ERROR_PROPERTY_IS_REQUIRED: ' %field%    %component%',\n    NAVIGATION_DEFAULT_INDEX: '',\n    NAVIGATION_DEFAULT_LOGIN: '',\n    NAVIGATION_LOGGED_INDEX: '',\n    NAVIGATION_LOGGED_SAVED: ' ',\n    NAVIGATION_LOGGED_LOGOUT: '%innerText%',\n    NAVIGATION_FOOTER_INDEX: '',\n    NAVIGATION_FOOTER_YANDEX: '.',\n    NAVIGATION_SOCIAL_GITHUB: 'Github',\n    NAVIGATION_SOCIAL_FACEBOOK: 'Facebook',\n    MONTHS_WITH_POSTFIX: '()-|()-|()-|()-|()-|()-|()-|()-|()-|()-|()-|()-',\n    // System messages\n    'Failed to fetch': '  ',\n    'jwt expired': '  . ',\n    'Incorrect email or password': ' email  ',\n    'Article has not been found to delete': '    ',\n  },\n};\n","import merge from './merge';\n\nexport default (proto) => (\n  (...args) => {\n    const { constructor } = proto;\n    const instance = new constructor(...args);\n    const protoProps = Object.keys(proto).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key]: proto[key],\n      }),\n      {},\n    );\n\n    const instanceProps = Object.keys(instance).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key]: instance[key],\n      }),\n      {},\n    );\n\n    return Object.assign(\n      instance,\n      merge(\n        protoProps,\n        instanceProps,\n      ),\n    );\n  }\n);\n","const mergeTo = (props, key, value) => {\n  if (value === undefined) {\n    return props;\n  }\n\n  if (typeof value === 'object') {\n    if (Array.isArray(value)) {\n      return {\n        ...props,\n        [key]: [\n          ...(props[key] || []),\n          ...value,\n        ],\n      };\n    }\n\n    return {\n      ...props,\n      [key]: {\n        ...(props[key] || {}),\n        ...value,\n      },\n    };\n  }\n\n  return {\n    ...props,\n    [key]: value,\n  };\n};\n\nexport default (target, ...sources) => (\n  sources.reduce(\n    (t, source) => Object.keys(source).reduce(\n      (_, key) => mergeTo(_, key, source[key]),\n      t,\n    ),\n    target,\n  )\n);\n","import messages from '../config/messages';\n\nconst lang = process.env.BACKEND_NEWS_LANGUAGE || 'ru';\n\nexport default {\n  formatMonth(month) {\n    const replaces = messages[lang].MONTHS_WITH_POSTFIX.split('|').map((p) => p.split('-'));\n    const replace = replaces.find(\n      ([pattern]) => new RegExp(pattern).test(month),\n    );\n    const [pattern, postfix] = replace;\n\n    return month.replace(new RegExp(`${pattern}.*`), `$1${postfix}`);\n  },\n};\n","import formatter from './formatter';\n\nconst lang = process.env.BACKEND_NEWS_LANGUAGE || 'ru';\n\nexport default {\n  toISO(days = 0) {\n    const date = new Date();\n    date.setDate(date.getDate() + days);\n\n    return date.toISOString();\n  },\n  format(d) {\n    const date = new Date(d);\n    const day = date.getDate();\n    const month = date.toLocaleString(\n      lang,\n      {\n        month: 'long',\n      },\n    );\n    const year = date.getFullYear();\n\n    return `${day} ${formatter.formatMonth(month)}, ${year}`;\n  },\n};\n","import * as components from './components';\nimport * as config from './config';\nimport factory from './utils/factory';\n\nexport default class App {\n  constructor(factories = {}) {\n    this._factories = factories;\n    this._instances = {};\n    this._components = [];\n    this.config = config;\n  }\n\n  create(name, ...args) {\n    return this._factories[name].apply(this, args);\n  }\n\n  has(name) {\n    return name in this._factories;\n  }\n\n  get(name) {\n    if (!(name in this._instances)) {\n      this._instances[name] = this.create(name);\n    }\n\n    return this._instances[name];\n  }\n\n  use(component, context = null) {\n    this._components.push({\n      component,\n      context,\n    });\n\n    return this;\n  }\n\n  async run() {\n    const promises = this._components.map(\n      async ({ component, context }) => ({\n        component: typeof component === 'function'\n          ? await component(components, this)\n          : component,\n        context,\n      }),\n    );\n\n    const instances = await Promise.all(promises);\n    this._instances = {\n      ...this._instances,\n      ...instances.reduce(\n        (acc, { component, context }) => ({\n          ...acc,\n          [component.name]: {\n            component,\n            context,\n          },\n        }),\n        {},\n      ),\n    };\n\n    this._factories = {\n      ...this._factories,\n      ...instances.reduce(\n        (acc, { component, context }) => ({\n          ...acc,\n          [component.name]: (...args) => ({\n            component: factory(component)(...args),\n            context,\n          }),\n        }),\n        {},\n      ),\n    };\n\n    await Promise.all(\n      instances.map(\n        ({ component, context = null }) => (\n          component.hasHandlers() && component.handle(context)\n        ),\n      ),\n    );\n  }\n}\n","module.exports = \"<section class=\\\"author section\\\">\\n  <div class=\\\"author__row\\\">\\n    <img src=\\\"${avatar}\\\" alt=\\\"${translate(author)}\\\" class=\\\"author__image\\\"\\n      title=\\\"${translate(author)}\\\">\\n    <div class=\\\"author__text\\\">\\n      <h2 class=\\\"author__title title_mid title\\\">${translate(title)}</h2>\\n      <p class=\\\"author__subtitle subtitle_normal subtitle\\\">${translate(content)}</p>\\n    </div>\\n  </div>\\n</section>\";","module.exports = \"<div class=\\\"cards-container\\\">\\n    ${cards()}\\n</div>\";","module.exports = \"<footer class=\\\"footer section\\\">\\n    <p class=\\\"footer__copyright\\\">${translate(copyright)}</p>\\n    <nav class=\\\"footer__lists\\\">\\n        <ul class=\\\"footer__list-links\\\">\\n            ${footerLinks()}\\n        </ul>\\n        <ul class=\\\"footer__list-social\\\">\\n            ${socialLinks()}\\n        </ul>\\n    </nav>\\n</footer>\";","module.exports = \"<li>\\n    <a href=\\\"${href}\\\" target=\\\"${target}\\\" rel=\\\"${rel}\\\" class=\\\"footer__link\\\">${translate(text)}</a>\\n</li>\";","module.exports = \"<a href=\\\"${href}\\\" target=\\\"${target}\\\" rel=\\\"${rel}\\\" class=\\\"footer__link-social\\\">\\n    <i class=\\\"footer__link-icon footer__link-icon_${icon}\\\" title=\\\"${translate(text)}\\\"></i>\\n</a>\";","module.exports = \"<header class=\\\"header header_theme_${theme}\\\">\\n  <div class=\\\"header__container header__container_expandable section\\\">\\n    <div class=\\\"header__container-row\\\">\\n      <a href=\\\"${publicUrl}\\\">\\n        <div class=\\\"header__logo\\\"></div>\\n      </a>\\n      <button class=\\\"header__menu-toggler\\\">\\n        <i class=\\\"header__menu-icon header__menu-icon_toggler\\\"></i>\\n      </button>\\n    </div>\\n    <div class=\\\"header__container-line\\\"></div>\\n    <div class=\\\"header__container-row header__container-row_expandable\\\">\\n      <nav class=\\\"header__menu\\\">\\n        ${navigation()}\\n      </nav>\\n    </div>\\n  </div>\\n</header>\";","module.exports = \"<button class=\\\"header__menu-button button__${action} button\\\">${translate(text,{innerText})}<i\\n    class=\\\"header__menu-icon header__menu-icon_${action}\\\"></i></button>\";","module.exports = \"<a href=\\\"${href}\\\" class=\\\"header__menu-link ${active ? 'header__menu-link_active' : ''}\\\">${translate(text,{innerText})}</a>\";","module.exports = \"<div class=\\\"card\\\">\\n  <div class=\\\"card__image-cover\\\">\\n    ${elements()}\\n    <a href=\\\"${article.link}\\\" target=\\\"_blank\\\" class=\\\"card__link\\\">\\n      <img class=\\\"card__image\\\" src=\\\"${article.image}\\\" alt=\\\"${article.title}\\\">\\n    </a>\\n  </div>\\n  <div class=\\\"card__description\\\">\\n    <h3 class=\\\"card__date\\\">${datetime.format(article.date)}</h3>\\n    <h2 class=\\\"card__title title title_small\\\"><a href=\\\"${article.link}\\\" target=\\\"_blank\\\"\\n        class=\\\"card__link\\\">${article.title}</a></h2>\\n    <p class=\\\"card__subtitle subtitle subtitle_small\\\">${article.text}</p>\\n    <p class=\\\"card__source\\\">${article.source}</p>\\n  </div>\\n</div>\";","module.exports = \"<button value=\\\"${article.encode()}\\\" class=\\\"card__bookmark button ${article.id ? toogleClass : ''}\\\">\\n  <i class=\\\"card__bookmark-icon\\\"></i>\\n</button>\";","module.exports = \"<button value=\\\"${article.id}\\\" class=\\\"card__delete button\\\">\\n    <i class=\\\"card__delete-icon\\\"></i>\\n</button>\";","module.exports = \"<div class=\\\"card__keyword\\\">\\n    <div class=\\\"card__keyword-text\\\">${article.keyword}</div>\\n</div>\";","module.exports = \"<div class=\\\"card__tooltip\\\">\\n  <div class=\\\"card__tooltip-text\\\">${translate(text(article, logged))}</div>\\n</div>\";","module.exports = \"<div class=\\\"popup\\\">\\n  <div class=\\\"popup__content\\\">\\n    <button class=\\\"popup__close ${closeBtnClass}\\\">\\n      <i class=\\\"icon popup__close-icon\\\"></i>\\n    </button>\\n    <h3 class=\\\"popup__title\\\">${translate(title)}</h3>\\n    ${content()}\\n    ${element()}\\n  </div>\\n</div>\";","module.exports = \"<a href=\\\"${href}\\\" class=\\\"popup__link ${className}\\\">${translate(text)}</a>\";","module.exports = \"<div class=\\\"popup__subtext\\\">\\n  ${translate(text, { link })}\\n</div>\";","module.exports = \"<form class=\\\"form popup-form\\\" novalidate>\\n    ${elements()}\\n    <div class=\\\"form__error popup-form__error\\\">\\n        <span class=\\\"form__input-error popup-form__input-error ${formError ? 'popup-form__input-error_display' : ''}\\\">${translate(formError)}</span>\\n    </div>\\n    <button class=\\\"popup-form__button form__button button\\\">${translate(buttonText)}</button>\\n</form>\";","module.exports = \"<div class=\\\"form__field popup-form__field\\\">\\n  <label for=\\\"${form}-${fieldName}\\\" class=\\\"form__label popup-form__label\\\">${translate(fieldLabel)}</label>\\n  <input type=\\\"${fieldType}\\\" name=\\\"${fieldName}\\\" ${pattern ? `pattern=\\\"${pattern}\\\" ` : ``} class=\\\"form__input popup-form__input\\\"\\n    placeholder=\\\"${translate(placeholder)}\\\" id=\\\"${form}-${fieldName}\\\" ${minlength ? `minlength=\\\"${minlength}\\\" ` : ``}\\n    ${maxlength ? `maxlength=\\\"${maxlength}\\\" ` : ``} ${required ? `required` : `` }>\\n  <span class=\\\"form__input-error popup-form__input-error\\\">\\n    ${translate(message, { label: fieldLabel })}\\n  </span>\\n</div>\";","module.exports = \"<div class=\\\"results\\\">\\n  <section class=\\\"results__container section section_results\\\">\\n    ${header()}\\n    ${content()}\\n    ${element()}\\n  </section>\\n</div>\";","module.exports = \"<h2 class=\\\"results__title title title_mid\\\">${translate(title)}</h2>\";","module.exports = \"<div class=\\\"results__loading section\\\">\\n    <i class=\\\"circle-preloader\\\"></i>\\n    <p class=\\\"results__subtitle subtitle_normal subtitle\\\">${translate(subtitle)}</p>\\n</div>\";","module.exports = \"<div class=\\\"results__no-results section\\\">\\n    <img src=\\\"${image}\\\" alt=\\\"${translate(title)}\\\"\\n        class=\\\"results__image\\\">\\n    <h2 class=\\\"title_small title\\\">${translate(title)}</h2>\\n    <p class=\\\"results__subtitle subtitle_normal subtitle\\\">\\n        ${translate(subtitle)}\\n    </p>\\n</div>\";","module.exports = \"<button class=\\\"results__button button\\\">${translate(label)}</button>\";","module.exports = \"<form class=\\\"search-form form\\\" novalidate>\\n  <input class=\\\"search-form__input form__input\\\" type=\\\"text\\\" name=\\\"${fieldName}\\\"\\n    placeholder=\\\"${translate(placeholder)}\\\">\\n  <button class=\\\"search-form__button button\\\">\\n    ${translate(buttonText)}\\n  </button>\\n</form>\";","module.exports = \"<section class=\\\"search-info section\\\">\\n  <h3 class=\\\"search-info__heading\\\">${translate(heading)}</h3>\\n  <h1 class=\\\"search-info__title title title_mid\\\">${translate(title)}</h1>\\n  <p class=\\\"search-info__subtitle search-info__subtitle_dark subtitle subtitle_normal\\\">\\n    ${translate(subtitle)}\\n  </p>\\n</section>\";","module.exports = \"<span class=\\\"search-info__subtitle search-info__subtitle_bold\\\">${text}</span>\";","module.exports = \"<section class=\\\"search section_search section\\\">\\n  <h1 class=\\\"search__title title_main title\\\">${translate(title)}</h1>\\n  <p class=\\\"search__subtitle subtitle_normal subtitle\\\">\\n    ${translate(subtitle)}\\n  </p>\\n  ${content}\\n</section>\";","import { resolver, observer } from '../utils';\n\nexport default class BaseApi {\n  constructor(options = {}) {\n    this._options = {\n      endpoint: 'http://localhost:3000',\n      token: '',\n      ...options,\n    };\n  }\n\n  resolveOptions(options = {}) {\n    const resolved = resolver({\n      ...this._options,\n      ...options,\n    });\n\n    return {\n      ...resolved,\n      headers: {\n        ...(resolved.headers || {}),\n        Authorization: `Bearer ${this.getToken()}`,\n      },\n    };\n  }\n\n  getToken() {\n    return resolver({ token: this._options.token }).token;\n  }\n\n  request(path, options = {}) {\n    const resolvedOptions = this.resolveOptions(options);\n\n    return fetch(\n      `${resolvedOptions.endpoint}/${path}`,\n      resolvedOptions,\n    )\n      .then(\n        (response) => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          const error = new Error(`${response.statusText}`);\n          error.code = response.status;\n          error.json = () => response.json();\n\n          throw error;\n        },\n      )\n      .catch(\n        (err) => {\n          observer.notify('error', err);\n\n          throw err;\n        },\n      );\n  }\n}\n","import BaseApi from './BaseApi';\n\nexport default class MainApi extends BaseApi {\n  constructor(options = {}) {\n    super(options);\n    this.storeNs = MainApi.STORE_NS;\n  }\n\n  getToken() {\n    return localStorage.getItem(`${this.storeNs}.token`);\n  }\n\n  setToken(token) {\n    localStorage.setItem(`${this.storeNs}.token`, token);\n\n    return this;\n  }\n\n  signin(email, password, callback = (p) => p) {\n    return this.request('signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    })\n      .then(\n        ({ token }) => {\n          this.setToken(token);\n          return token;\n        },\n      )\n      .then(callback);\n  }\n\n  signup(email, password, name, callback = (p) => p) {\n    return this.request('signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        email,\n        password,\n        name,\n      }),\n    })\n      .then(callback);\n  }\n\n  logout() {\n    this.setToken('');\n  }\n\n  getUserData(callback = (p) => p) {\n    return Promise.all([\n      this.getUser(),\n      this.getArticles(),\n    ])\n      .then(\n        ([user, articles]) => ({\n          ...user,\n          articles,\n        }),\n      )\n      .then(callback);\n  }\n\n  getUser(callback = (p) => p) {\n    return this.request('users/me').then(callback);\n  }\n\n  getArticles(callback = (p) => p) {\n    return this.request('articles').then(callback);\n  }\n\n  createArticle(data, callback = (p) => p) {\n    return this.request('articles', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    })\n      .then(callback);\n  }\n\n  removeArticle(id, callback = (p) => p) {\n    return this.request(`articles/${id}`, {\n      method: 'DELETE',\n    })\n      .then(callback);\n  }\n}\n\nMainApi.STORE_NS = 'main-api';\n","import BaseApi from './BaseApi';\nimport { resolver } from '../utils';\n\nexport default class NewsApi extends BaseApi {\n  getNews(params = {}, callback = (p) => p) {\n    const searchParams = new URLSearchParams(\n      resolver({\n        ...(this._options.params || {}),\n        ...params,\n      }),\n    );\n\n    return this.request(`everything?${searchParams}`)\n      .then(callback);\n  }\n}\n","import 'normalize.css/normalize.css';\n\nimport { MainApi, NewsApi } from './app/api';\nimport App from './app/App';\nimport { observer } from './app/utils';\n\nexport default (factories = {}) => {\n  const app = new App({\n    mainApi(options = {}) {\n      const { config } = this;\n\n      return new MainApi({\n        ...config.backends.main,\n        ...options,\n      });\n    },\n    newsApi(options = {}) {\n      const { config } = this;\n\n      return new NewsApi({\n        ...config.backends.news,\n        ...options,\n      });\n    },\n    userData() {\n      const mainApi = this.get('mainApi');\n\n      if (!mainApi.getToken()) {\n        return Promise.resolve({});\n      }\n\n      if (!('userData' in this)) {\n        this.userData = mainApi.getUserData();\n      }\n\n      return this.userData;\n    },\n    ...factories,\n  });\n\n  observer.subscribe(\n    'refresh',\n    () => delete app.userData,\n  );\n\n  return app;\n};\n","import './saved-news.css';\n\nimport App from '../app';\nimport {\n  header,\n  searchInfo,\n  cardList,\n  savedCard,\n  savedResults,\n  popup,\n  popupForm,\n  popupFormSignIn,\n  popupFormSignUp,\n} from '../app/factories';\n\nconst app = App({\n  config() {\n    const { config } = this;\n    return {\n      ...config,\n      theme: 'dark',\n      page: 'saved',\n    };\n  },\n});\n\napp.use(\n  header,\n  document.querySelector('.content'),\n);\napp.use(\n  searchInfo,\n  document.querySelector('.main'),\n);\napp.use(\n  savedResults,\n  document.querySelector('.main'),\n);\napp.use(\n  cardList,\n  document.querySelector('.main'),\n);\napp.use(savedCard);\napp.use(popup);\napp.use(popupForm);\napp.use(popupFormSignIn);\napp.use(popupFormSignUp);\n\napp.run();\n\nwindow.app = app;\n"],"sourceRoot":""}